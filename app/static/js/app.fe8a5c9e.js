(function(t){function e(e){for(var a,r,i=e[0],c=e[1],u=e[2],l=0,m=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"1d82":function(t,e,n){},"1f66":function(t,e,n){"use strict";var a=n("c4ff"),s=n.n(a);s.a},"1f6e":function(t,e,n){"use strict";var a=n("5ce9"),s=n.n(a);s.a},2:function(t,e){},2660:function(t,e,n){},3:function(t,e){},"37f9":function(t,e,n){},"3b1a":function(t,e,n){},4:function(t,e){},"47bd":function(t,e,n){},"4fca":function(t,e,n){},"538c":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col tablet-12 desktop-10"},[n("router-view")],1)])])},o=[],r=n("2877"),i={},c=Object(r["a"])(i,s,o,!1,null,null,null),u=c.exports,d=(n("99af"),n("8c4f")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("404 Not Found")])},m=[],f={},p=Object(r["a"])(f,l,m,!1,null,null,null),_=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"padding-top":"64px"}},[n("router-view")],1)},b=[],v={},g=Object(r["a"])(v,h,b,!1,null,null,null),S=g.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col mobile-10 tablet-6 desktop-4",staticStyle:{"max-width":"400px","min-width":"300px"}},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",[n("h3",[t._v("Login")]),n("span",{staticClass:"divider invisible"}),n("username-and-pw-form",t._b({on:{submit:function(e){return e.preventDefault(),t.onLogin(e)}},scopedSlots:t._u([{key:"actions",fn:function(){return[n("div",{staticClass:"d-flex flex-column align-center"},[n("j-btn",{staticClass:"mb-4 outlined",staticStyle:{"align-self":"stretch"},attrs:{type:"submit"}},[t._v("Login")]),n("j-btn",{staticClass:"mb-2 text text--underlined",attrs:{to:{name:"create-account"}}},[t._v("Create an account")]),n("j-btn",{staticClass:"text text--caption text--underlined",attrs:{to:{name:"recover"}}},[t._v("Forgot password")])],1)]},proxy:!0}])},"username-and-pw-form",t.credentials,!1,!0)),n("div",{staticClass:"mt-4"},[n("j-alert",{model:{value:t.isLoginComplete,callback:function(e){t.isLoginComplete=e},expression:"isLoginComplete"}},[t._v(" "+t._s(t.loginStatusMessage)+" ")])],1)],1)],1)],1)])},O=[],j=(n("96cf"),n("1da1")),x=n("5530"),w=n("2f62"),C="SET_SESSION",I="SET_SESSION_LOGGED_OUT",E="LOGIN",y="LOGOUT",T="REGISTER",P="GET_IS_LOGGED_IN",K="USER_CLAIMS",D="LOGIN_REQ_DATA",R="LOGIN_REQ_STATUS",F="REGISTER_REQ_DATA",L="REGISTER_REQ_STATUS",N="LOGOUT_ACCESS_REQ_STATUS",A="LOGOUT_REFRESH_REQ_STATUS",G=function(t,e){var n=e._c;return n("form",e._g({staticClass:"d-flex flex-column"},e.listeners),[n("JInput",{staticClass:"mb-4",attrs:{type:"email",label:"Email",value:e.props.email},on:{input:e.listeners["update:email"]}}),n("JInput",{staticClass:"mb-4",attrs:{type:"password",label:"Password",value:e.props.password},on:{input:e.listeners["update:password"]}}),e._t("actions")],2)},U=[],M={props:{email:{type:String,required:!0},password:{type:String,required:!0}}},J=M,$=Object(r["a"])(J,G,U,!0,null,null,null),B=$.exports,q={components:{UsernameAndPwForm:B},data:function(){return{isLoginComplete:!1,credentials:{email:"",password:""}}},computed:Object(x["a"])({},Object(w["c"])("session",{sessionLoginStatus:R,sessionLoginData:D}),{loginStatusMessage:function(){return this.sessionLoginData?this.sessionLoginData.message:""}}),methods:Object(x["a"])({},Object(w["b"])("session",{sessionLogin:E}),{onLogin:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.credentials.email||!t.credentials.password){e.next=6;break}return e.next=4,t.sessionLogin(t.credentials);case 4:"ERROR"!==t.sessionLoginStatus&&t.$router.push({name:"home"}),t.isLoginComplete=!0;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}})},z=q,Q=Object(r["a"])(z,k,O,!1,null,null,null),W=Q.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col mobile-10 tablet-6 desktop-4",staticStyle:{"max-width":"400px","min-width":"300px"}},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",[n("h3",[t._v("Register")]),n("span",{staticClass:"divider invisible"}),n("username-and-pw-form",t._b({on:{submit:function(e){return e.preventDefault(),t.onCreateAccount(e)}},scopedSlots:t._u([{key:"actions",fn:function(){return[n("div",{staticClass:"d-flex flex-column align-center"},[n("j-btn",{staticClass:"mb-4 outlined",staticStyle:{"align-self":"stretch"},attrs:{type:"submit"}},[t._v("Create account")]),n("j-btn",{staticClass:"text text--underlined",attrs:{to:{name:"login"}}},[t._v("back to login")])],1)]},proxy:!0}])},"username-and-pw-form",t.credentials,!1,!0)),n("div",{staticClass:"mt-4"},[n("j-alert",{model:{value:t.isCreateAccountComplete,callback:function(e){t.isCreateAccountComplete=e},expression:"isCreateAccountComplete"}},["ERROR"===t.createAccountStatus?n("span",[t._v(" "+t._s(t.createAccountErrorMessage)+" ")]):n("span",{staticClass:"text-success"},[t._v(" You have successfully created your account. ")])])],1)],1)],1)],1)])},Y=[],X={components:{UsernameAndPwForm:B},data:function(){return{isCreateAccountComplete:!1,credentials:{email:"",password:""}}},computed:Object(x["a"])({},Object(w["c"])("session",{createAccountStatus:L,createAccountData:F}),{createAccountErrorMessage:function(){if("ERROR"===this.createAccountStatus&&this.createAccountData)return this.createAccountData.message}}),methods:Object(x["a"])({},Object(w["b"])("session",{createAccount:T}),{onCreateAccount:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.credentials.email||!t.credentials.password){e.next=4;break}return e.next=3,t.createAccount(t.credentials);case 3:t.isCreateAccountComplete=!0;case 4:case"end":return e.stop()}}),e)})))()}})},V=X,Z=Object(r["a"])(V,H,Y,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col mobile-10 tablet-6 desktop-4",staticStyle:{"max-width":"400px","min-width":"300px"}},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",[n("h3",[t._v("Send password reset email")]),n("p",[t._v(" Enter your email address and we'll send you a link where you can change your password. ")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.onSendLink(e)}}},[n("JInput",{staticClass:"mb-4",attrs:{placeholder:"jane.shmane@wayne.com"},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}}),n("div",{staticClass:"d-flex flex-column align-center"},[n("j-btn",{staticClass:"outlined mb-3",staticStyle:{"align-self":"stretch"},attrs:{type:"submit",disabled:!t.email.length||"WAITING"===t.sendLinkStatus}},[t._v(" "+t._s("WAITING"===t.sendLinkStatus?"...sending":"Send link")+" ")]),n("j-btn",{staticClass:"text text--underlined",attrs:{to:{name:"login"}}},[t._v(" Back to login ")])],1)],1),n("div",{staticClass:"mt-4"},[n("j-alert",{class:t.sendLinkMessageClass,model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}},[t._v(" "+t._s(t.sendLinkMessage)+" ")])],1)])],1)],1)])},nt=[],at=(n("caad"),"SEND_RESET_LINK"),st="RESET_PASSWORD",ot="SEND_RESET_LINK_REQ_STATUS",rt="SEND_RESET_LINK_REQ_DATA",it="RESET_PASSWORD_REQ_STATUS",ct="RESET_PASSWORD_REQ_DATA",ut={data:function(){return{email:"",showAlert:!1}},watch:{sendLinkStatus:function(t){["ERROR","SUCCESS"].includes(t)&&(this.showAlert=!0)}},computed:Object(x["a"])({},Object(w["c"])("account",{sendLinkStatus:ot,sendLinkData:rt}),{sendLinkMessageClass:function(){switch(this.sendLinkStatus){case"ERROR":return"text-danger";case"SUCCESS":return"text-success";default:return""}},sendLinkMessage:function(){if(this.sendLinkData&&this.sendLinkData.pub_msg)return this.sendLinkData.pub_msg;switch(this.sendLinkStatus){case"ERROR":return"Uh oh! There was an error.";case"SUCCESS":return"Success!";default:return""}}}),methods:Object(x["a"])({},Object(w["b"])("account",{sendLink:at}),{onSendLink:function(){this.sendLink(this.email)}})},dt=ut,lt=Object(r["a"])(dt,et,nt,!1,null,null,null),mt=lt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col mobile-10 tablet-6 desktop-4",staticStyle:{"max-width":"400px","min-width":"300px"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onResetPassword(e)}}},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",[n("h3",[t._v("Reset your password")]),n("p",[t._v(" Enter your new password for your account registered to "),n("span",{staticClass:"text--underlined"},[t._v(t._s(t.registeredEmail))]),t._v(". ")]),n("JInput",{attrs:{placeholder:"Enter password",type:"password"},model:{value:t.newPassword,callback:function(e){t.newPassword="string"===typeof e?e.trim():e},expression:"newPassword"}})],1),n("j-card-actions",{staticClass:"d-flex flex-column align-center"},[n("j-btn",{staticClass:"outlined mb-4",staticStyle:{"align-self":"stretch"},attrs:{type:"submit",disabled:!t.newPassword.length||"WAITING"===t.resetPasswordStatus}},[t._v(" Reset password ")]),n("j-btn",{staticClass:"text text--underlined",attrs:{to:{name:"login"}}},[t._v("Go to login")])],1),n("j-card-text",[n("j-alert",{class:t.alertClass,model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}},[t._v(" "+t._s(t.alertMessage)+" ")])],1)],1)],1)])])},pt=[],_t=n("14b7"),ht=n.n(_t),bt={data:function(){return{newPassword:"",registeredEmail:"",showAlert:!1}},mounted:function(){var t=ht.a.decode(this.$route.params.nonce);t&&t.user_claims&&(this.registeredEmail=t.user_claims.email)},watch:{resetPasswordStatus:function(t){["ERROR","SUCCESS"].includes(t)&&(this.showAlert=!0)}},computed:Object(x["a"])({},Object(w["c"])("account",{resetPasswordStatus:it,resetPasswordData:ct}),{alertClass:function(){switch(this.resetPasswordStatus){case"ERROR":return"text-danger";case"SUCCESS":return"text-success";default:return""}},alertMessage:function(){if(this.resetPasswordData&&this.resetPasswordData.pub_msg)return this.resetPasswordData.pub_msg;switch(this.resetPasswordStatus){case"ERROR":return"Uh oh! There was an error.";case"SUCCESS":return"Success!";default:return""}}}),methods:Object(x["a"])({},Object(w["b"])("account",{resetPassword:st}),{onResetPassword:function(){this.resetPassword({password:this.newPassword,token:this.$route.params.nonce})}})},vt=bt,gt=Object(r["a"])(vt,ft,pt,!1,null,null,null),St=gt.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row ma-0 justify-center align-center app-bar"},[n("div",{staticClass:"col pa-0 tablet-12 desktop-10"},[n("div",{staticClass:"d-flex justify-between align-center"},[n("div",[n("TheBreadcrumbs",{staticClass:"my-0"})],1),n("div",[n("j-btn",{staticClass:"text small outlined-hover",on:{click:function(e){return t.$store.dispatch("session/LOGOUT")}}},[t._v("logout")])],1)])])]),n("main",{staticClass:"main-content"},[n("router-view")],1)])},Ot=[],jt="SET_STOCK_LIST",xt="UPDATE_STOCK_LIST",wt="SET_SELECTED_STOCK_ID",Ct="FETCH_STOCKS",It="FETCH_STOCK_SELECETED_STOCK",Et="POST_STOCK",yt="POST_STOCK_ITEM",Tt="DELETE_STOCK",Pt="SELECTED_STOCK",Kt="FOOD_KINDS_IN_SELECTED_STOCK",Dt="STATUS_OF_POST_STOCK",Rt="SET_FOOD_CATEGORY_LIST",Ft="SET_SELECTED_FOOD_CATEGORY_ID",Lt="FETCH_FOOD_CATEGORY_LIST",Nt="POST_FOOD_CATEGORY",At="UPDATE_FOOD_CATEGORY",Gt="DELETE_FOOD_CATEGORY",Ut="SELECTED_FOOD_CATEGORY",Mt="SET_FOOD_KIND_LIST",Jt="UPDATE_FOOD_KIND_LIST",$t="SET_SELECTED_FOOD_KIND_ID",Bt="FETCH_FOOD_KIND_LIST",qt="FETCH_FOOD_KIND_BY_ID",zt="POST_FOOD_KIND",Qt="UPDATE_FOOD_KIND",Wt="DELETE_FOOD_KIND",Ht="SELECTED_FOOD_KIND",Yt="GET_FOOD_KIND_BY_ID",Xt="GET_SELECTED_FOOD_KIND_UOM",Vt="STATUS_OF_POST_FOOD_KIND",Zt="DATA_FROM_DELETE_FOOD_KIND",te="FETCH_UNIT_OF_MEASURE_LIST",ee="SET_UNIT_OF_MEASURE_LIST",ne="FETCH_PACKAGING_KIND_LIST",ae="FETCH_PACKAGING_STATE_LIST",se="SET_PACKAGING_KIND_LIST",oe="SET_PACKAGING_STATE_LIST",re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"breadcrumbs"},[t._l(t.breadcrumbs,(function(e,a){return[n("li",{key:e.to},[e.to?[n("router-link",{attrs:{to:{name:e.to}}},[t._v(t._s(e.text))]),a<t.breadcrumbs.length?n("span",{staticClass:"seperator"},[t._v("-")]):t._e()]:[n("span",{staticClass:"text-weight--bold"},[t._v(t._s(e.text))])]],2)]}))],2)},ie=[],ce=(n("d81d"),{computed:{breadcrumbs:function(){var t=this;return(this.$route.meta.breadcrumbs||[]).map((function(e){return{to:e.to,text:"function"===typeof e.text?e.text(t.$store.getters):e.text}}))}}}),ue=ce,de=(n("e479"),Object(r["a"])(ue,re,ie,!1,null,null,null)),le=de.exports,me={components:{TheBreadcrumbs:le},methods:Object(x["a"])({},Object(w["b"])("stock",{fetchStocks:Ct}),{},Object(w["b"])("foodCategory",{fetchFoodCategoryList:Lt}),{},Object(w["b"])("foodKind",{fetchFoodKindList:Bt}),{},Object(w["b"])("foodKind/unitOfMeasure",{fetchUnitOfMeasureList:te}),{},Object(w["b"])("packaging",{fetchPackagingKindList:ne,fetchPackagingStateList:ae})),mounted:function(){this.fetchStocks(),this.fetchFoodCategoryList(),this.fetchFoodKindList(),this.fetchPackagingKindList(),this.fetchPackagingStateList(),this.fetchUnitOfMeasureList()}},fe=me,pe=(n("bec0"),Object(r["a"])(fe,kt,Ot,!1,null,"4fdbb767",null)),_e=pe.exports,he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("j-dialog",{model:{value:t.showDeleteFoodKindError,callback:function(e){t.showDeleteFoodKindError=e},expression:"showDeleteFoodKindError"}},[n("j-card",[n("j-card-text",[t._v(" "+t._s(t.deleteFoodKindErrorMsg)+" ")]),n("j-card-actions",{staticClass:"text-right"},[n("button",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"btn outlined mx-2",on:{click:t.onCancelForceDeleteFoodKind}},[t._v("Cancel")]),n("button",{staticClass:"btn danger",on:{click:function(e){return t.onDeleteFoodKind(t.forceDeleteFoodKindId,!0)}}},[t._v("Confirm")])])],1)],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col mobile-12 tablet-6"},[n("j-card",{attrs:{outlined:""}},[n("j-card-title",{staticClass:"pa-0"},[t._v("Stock List")]),n("j-card-text",{staticClass:"pa-0"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmitStock(e)}}},[n("div",{staticClass:"d-flex align-end"},[n("JInput",{attrs:{label:"Create new stock"},model:{value:t.stock,callback:function(e){t.stock="string"===typeof e?e.trim():e},expression:"stock"}}),n("j-btn",{staticClass:"small outlined align-end ml-2",attrs:{type:"submit",disabled:!t.stock}},[t._v("Submit")])],1)]),n("j-alert",{model:{value:t.showSubmitStockError,callback:function(e){t.showSubmitStockError=e},expression:"showSubmitStockError"}},[t._v(" There was an error while creating the stock. Please try again and make sure to use a unique name. ")]),n("j-list",{staticClass:"mt-2",attrs:{searchLabel:"Search stocks",items:t.stockList,indexKey:"name",searchKeys:["name"]},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[n("j-btn",{staticClass:"fullwidth text clr-link outlined-hover text-left",attrs:{title:"Go to page for stock: "+a.name,to:{name:"stock",params:{stock_id:a.id}}}},[t._v(" "+t._s(a.name)+" ")]),n("j-btn",{staticClass:"square text clr-danger outlined-hover",attrs:{title:"Delete stock: "+a.name},on:{click:function(e){return t.onDeleteStock(a.id)}}},[t._v(" X ")])]}}])})],1)],1)],1),n("div",{staticClass:"col mobile-12 tablet-6"},[n("j-card",{attrs:{outlined:""}},[n("j-card-title",{staticClass:"pa-0"},[t._v("Food Kinds")]),n("j-card-text",{staticClass:"pa-0"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmitFoodKind(e)}}},[n("div",{staticClass:"d-flex"},[n("JInput",{attrs:{label:"Create new food kind"},model:{value:t.foodKind,callback:function(e){t.foodKind="string"===typeof e?e.trim():e},expression:"foodKind"}}),n("j-btn",{staticClass:"small outlined ml-2",staticStyle:{"align-self":"end"},attrs:{disabled:!t.foodKind}},[t._v("Submit")])],1)]),n("j-alert",{model:{value:t.showSubmitFoodKindError,callback:function(e){t.showSubmitFoodKindError=e},expression:"showSubmitFoodKindError"}},[t._v(" There was an error while creating the food kind. Please try again and make sure to use a unique name. ")]),n("j-list",{staticClass:"mt-2",attrs:{searchLabel:"Search food kinds",items:t.foodKindList,indexKey:"name",searchKeys:["name"]},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[n("j-btn",{staticClass:"fullwidth text clr-link outlined-hover text-left text--underlined",attrs:{title:"Go to page for food kind: "+a.name,to:{name:"food-kind",params:{food_kind_id:a.id}}}},[t._v(" "+t._s(a.name)+" ")]),n("j-btn",{staticClass:"square text clr-danger outlined-hover",attrs:{title:"Delete food kind: "+a.name},on:{click:function(e){return t.onDeleteFoodKind(a.id)}}},[t._v(" X ")])]}}])})],1)],1)],1)])],1)},be=[],ve=(n("7db0"),n("b0c0"),n("498a"),{name:"Home",data:function(){return{stock:"",foodCategory:"",foodKind:"",packagingKind:"",showSubmitStockError:!1,showSubmitFoodKindError:!1,showDeleteFoodKindError:!1,forceDeleteFoodKindId:"",deleteFoodKindErrorMsg:""}},watch:{statusOfPostStock:function(t){this.showSubmitStockError="ERROR"===t},statusOfPostFoodKind:function(t){this.showSubmitFoodKindError="ERROR"===t}},computed:Object(x["a"])({},Object(w["c"])("stock",{statusOfPostStock:Dt}),{},Object(w["c"])("foodKind",{statusOfPostFoodKind:Vt,getDataFromDeleteFoodKind:Zt}),{},Object(w["e"])("stock",{stockList:function(t){return t.list}}),{},Object(w["e"])("foodCategory",{foodCategoryList:function(t){return t.list}}),{},Object(w["e"])("foodKind",{foodKindList:function(t){return t.list}})),methods:Object(x["a"])({confirmDelete:function(t,e){return confirm('Are you sure you want to delete the "'.concat(t,'" ').concat(e))}},Object(w["b"])("stock",{postStock:Et,deleteStock:Tt}),{onSubmitStock:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.stock.trim(),!n){e.next=5;break}return e.next=4,t.postStock(n);case 4:"ERROR"!==t.statusOfPostStock&&(t.stock="");case 5:case"end":return e.stop()}}),e)})))()},onDeleteStock:function(t){var e=this.stockList.find((function(e){return e.id===t}));this.confirmDelete(e.name,"stock")&&this.deleteStock(t)}},Object(w["b"])("foodCategory",{postFoodCategory:Nt,deleteFoodCategory:Gt}),{onSubmitFoodCategory:function(){var t=this.foodCategory.trim();t&&(this.postFoodCategory(t),this.foodCategory="")},onDeleteFoodCategory:function(t){var e=this.foodCategoryList.find((function(e){return e.id===t}));this.confirmDelete(e.name,"Food Category")&&this.deleteFoodCategory(t)}},Object(w["b"])("foodKind",{postFoodKind:zt,deleteFoodKind:Wt}),{onSubmitFoodKind:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.foodKind.trim(),!n){e.next=5;break}return e.next=4,t.postFoodKind({name:n});case 4:"ERROR"!==t.statusOfPostFoodKind&&(t.foodKind="");case 5:case"end":return e.stop()}}),e)})))()},onDeleteFoodKind:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(j["a"])(regeneratorRuntime.mark((function a(){var s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e.foodKindList.find((function(e){return e.id===t})),e.onCancelForceDeleteFoodKind(),!n){a.next=7;break}return a.next=5,e.deleteFoodKind({id:t,force:n});case 5:a.next=10;break;case 7:if(!e.confirmDelete(s.name,"Food Kind")){a.next=10;break}return a.next=10,e.deleteFoodKind({id:t});case 10:o=e.getDataFromDeleteFoodKind("/categories/food/kind/".concat(t)),o&&(e.showDeleteFoodKindError=!0,e.deleteFoodKindErrorMsg=o,e.forceDeleteFoodKindId=t);case 12:case"end":return a.stop()}}),a)})))()},onCancelForceDeleteFoodKind:function(){this.$store.commit("reqState/SET_REQ_STATE_ITEM",{method:"DELETE",uri:"/categories/food/kind/".concat(this.forceDeleteFoodKindId),data:null}),this.showDeleteFoodKindError=!1,this.deleteFoodKindErrorMsg="",this.forceDeleteFoodKindId=""}})}),ge=ve,Se=(n("a23d"),Object(r["a"])(ge,he,be,!1,null,null,null)),ke=Se.exports,Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},je=[],xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0"},[n("div",{staticClass:"d-flex align-center justify-between"},[n("h3",[t._v("Items")]),n("div",[n("button",{attrs:{title:t.addItemButtonState.title},on:{click:t.addItemButtonState.onClick}},[t._v(" "+t._s(t.addItemButtonState.text)+" ")])])]),t.showNewStockItemItemForm?n("j-card",{staticStyle:{background:"#fed"},attrs:{flat:""}},[n("j-card-text",{staticClass:"px-0 pt-0 text-weight--bold"},[t._v(" Add a new item ")]),n("j-card-text",{staticClass:"pa-0"},[n("StockItemForm",t._b({attrs:{foodKindOptions:t.foodKindOptions},on:{submit:function(e){return e.preventDefault(),t.onSubmitNewStockItem(e)}}},"StockItemForm",t.newStockItem,!1,!0))],1)],1):t._e(),n("ul",{staticStyle:{"list-style":"none",padding:"0"}},t._l(t.foodKindsInSelectedStock,(function(e,a){return n("li",{key:a,staticStyle:{margin:".5rem 0"}},[n("router-link",{staticClass:"text-underlined",attrs:{to:{name:"stock-item",params:{item_id:e.id}}}},[t._v(" "+t._s(e.name)+" ")]),n("ul",{staticClass:"food-kind__item-dates-list"},t._l(e.items,(function(e,a){return n("li",{key:a+e.expiration_date},[n("small",[t._v("new: "+t._s(e.date_item_was_new))]),t._v(" "),n("small",[t._v("exp: "+t._s(e.expiration_date))])])})),0)],1)})),0)],1)],1)},we=[],Ce=function(t,e){var n=e._c;return n("form",e._g(e._b({},"form",e.data.attrs,!1),e.listeners),[n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col"},[e.props.overrideFoodKind?[n("h3",[e._v("Add more")])]:[n("JSelect",{attrs:{smallLabel:"",label:"What kind of food item is this?",options:e.props.foodKindOptions,value:e.props.foodKindId},on:{input:function(t){return e.listeners["update:foodKindId"](t)}}})]],2)]),n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col"},[n("JInput",{attrs:{smallLabel:"",label:"When was this item new?",type:"date",value:e.props.dateItemWasNew},on:{input:function(t){return e.listeners["update:dateItemWasNew"](t)}}})],1),n("div",{staticClass:"col"},[n("JInput",{attrs:{smallLabel:"",label:"When will this item expire?",type:"date",value:e.props.expirationDate},on:{input:function(t){return e.listeners["update:expirationDate"](t)}}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col d-flex justify-end"},[n("j-btn",{staticClass:"outlined",attrs:{type:"submit"}},[e._v("Submit")])],1)])])},Ie=[],Ee=(n("a623"),{props:{overrideFoodKind:String,foodKindOptions:{type:Array,default:function(){return[]},validator:function(t){return t.every((function(t){return t.text&&t.value}))}},foodKindId:String,dateItemWasNew:String,expirationDate:String}}),ye=Ee,Te=Object(r["a"])(ye,Ce,Ie,!0,null,null,null),Pe=Te.exports,Ke={props:{items:Array},components:{StockItemForm:Pe},data:function(){return{showNewStockItemItemForm:!1,newStockItem:{foodKindId:"",expirationDate:"",dateItemWasNew:""}}},computed:Object(x["a"])({},Object(w["c"])("stock",{}),{},Object(w["e"])("foodKind",{foodKindOptions:function(t){return t.list.map((function(t){return{text:t.name,value:t.id}}))}}),{},Object(w["c"])("foodKind",{getFoodKindById:Yt}),{addItemButtonState:function(){return{onClick:this.toggleAddItemsForm,text:this.showNewStockItemItemForm?"-":"+",title:this.showNewStockItemItemForm?"Clear and close form":"Open form to add an item to this stock"}}}),methods:Object(x["a"])({},Object(w["b"])("stock",{postStockItem:yt}),{resetNewStockItemState:function(){this.$set(this,"newStockItem",{foodKindId:"",expirationDate:"",dateItemWasNew:""})},toggleAddItemsForm:function(){this.showNewStockItemItemForm=!this.showNewStockItemItemForm,this.showNewStockItemItemForm||this.resetNewStockItemState()},onSubmitNewStockItem:function(){var t=this.newStockItem,e=t.foodKindId,n=t.dateItemWasNew,a=t.expirationDate;e&&n&&a?(this.postStockItem({food_kind_id:e,date_item_was_new:n,expiration_date:a}),this.resetNewStockItemState()):alert("Oops! make sure you have filled out all fields")}})},De=Ke,Re=(n("93f1"),Object(r["a"])(De,xe,we,!1,null,"a2bf6f80",null)),Fe=Re.exports,Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0"},[n("div",{staticClass:"d-flex align-center justify-between"},[n("h3",[t._v("Snapshots")]),n("div",[n("button",{attrs:{title:"Take a snapshot of the current state of the items in this stock."}},[t._v("+")])])]),n("ul")])],1)},Ne=[],Ae={},Ge=Object(r["a"])(Ae,Le,Ne,!1,null,null,null),Ue=Ge.exports,Me={computed:Object(x["a"])({},Object(w["e"])("stock",{stockHasLoaded:function(t){return function(e){return t.list.find((function(t){return t.id===e}))}}})),methods:Object(x["a"])({},Object(w["d"])("stock",{setSelectedStockId:wt}),{},Object(w["b"])("stock",{fetchSelectedStock:It})),beforeRouteEnter:function(t,e,n){n((function(e){e.setSelectedStockId(t.params.stock_id),e.stockHasLoaded(t.params.stock_id)&&e.fetchSelectedStock()}))},beforeRouteLeave:function(t,e,n){this.setSelectedStockId(null),n()}},Je=Me,$e=Object(r["a"])(Je,Oe,je,!1,null,null,null),Be=$e.exports,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col mobile-12 tablet-4"},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0"},[n("h2",{staticClass:"my-0"},[t._v(t._s(t.stock.name))])]),n("j-card-text",{staticClass:"pa-0"},[t._v(" ... more ")])],1)],1),n("div",{staticClass:"col mobile-12 tablet-8"},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0 d-flex justify-between"},[n("h4",{staticClass:"my-2"},[t._v("Stock Items:")]),n("j-btn",{staticClass:"x-small outlined",staticStyle:{"align-self":"center"},on:{click:function(e){t.showNewItemForm=!t.showNewItemForm}}},[t._v(" "+t._s(t.showNewItemForm?"cancel":"+ add")+" ")])],1),n("transition",{attrs:{name:"dropdown-fade"}},[t.showNewItemForm?n("j-card-text",[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{},[n("StockItemForm",t._b({attrs:{foodKindOptions:t.foodKindOptions},on:{submit:function(e){return e.preventDefault(),t.onSubmitNewStockItem(e)}}},"StockItemForm",t.newStockItem,!1,!0))],1)],1)],1):t._e()],1),n("j-card-text",{staticClass:"px-0"},[n("j-list",{attrs:{striped:!1,items:t.stockFoodKinds,searchPlaceholder:"Search stock items",liClass:"mb-2",indexKey:"uniform_name",searchKeys:["name"]},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[n("j-btn",{staticClass:"outlined fullwidth text-left",attrs:{to:{name:"stock-item",params:{item_id:a.id}}}},[n("span",{staticClass:"text--underlined"},[t._v(t._s(a.name))]),n("ul",{staticStyle:{"list-style":"none",padding:"0"}},t._l(a.items,(function(e,a){return n("li",{key:a},[n("small",[t._v("new: "+t._s(e.date_item_was_new))]),t._v(" "),n("small",[t._v("exp: "+t._s(e.expiration_date))])])})),0)])]}}])})],1)],1)],1)])},ze=[],Qe=(n("07ac"),{components:{StockItems:Fe,StockSnapshots:Ue,StockItemForm:Pe},data:function(){return{showNewItemForm:!1,newStockItem:{foodKindId:"",dateItemWasNew:"",expirationDate:""}}},computed:Object(x["a"])({},Object(w["c"])("stock",{stock:Pt,foodKindsInSelectedStock:Kt}),{},Object(w["e"])("foodKind",{foodKindOptions:function(t){return t.list.map((function(t){return{text:t.name,value:t.id}}))}}),{stockFoodKinds:function(){return Object.values(this.foodKindsInSelectedStock)},dateCreated:function(){return new Date(this.stock.date_created).toDateString()},dateUpdated:function(){return this.stock.date_updated?new Date(this.stock.date_updated).toDateString():"N/A"}}),methods:Object(x["a"])({},Object(w["d"])("stock",{setSelectedStockId:wt}),{},Object(w["b"])("stock",{postStockItem:yt}),{onSubmitNewStockItem:function(){var t=this.newStockItem,e=t.foodKindId,n=t.dateItemWasNew,a=t.expirationDate;e&&n&&a?(this.postStockItem({food_kind_id:e,date_item_was_new:n,expiration_date:a}),this.$set(this,"newStockItem",{foodKindId:"",dateItemWasNew:"",expirationDate:""}),this.showNewItemForm=!1):alert("Oops! Make sure you have filled out all fields")}})}),We=Qe,He=(n("a621"),Object(r["a"])(We,qe,ze,!1,null,"701976a7",null)),Ye=He.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col mobile-12 tablet-4 food-kind__side-panel",staticStyle:{"align-self":"start"}},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0 d-flex align-center justify-between"},[n("h2",{staticClass:"my-0"},[t._v(t._s(t.stockItem.food_kind.name))]),n("div",[n("j-btn",{staticClass:"x-small link",attrs:{to:t.editLink}},[t._v("edit")])],1)]),n("j-card-text",{staticClass:"pa-0"},[t._v(" Serving size: "+t._s(t.servingSizeText)+" ")])],1)],1),n("div",{staticClass:"col mobile-12 tablet-8"},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0 d-flex align-center justify-between"},[n("h3",{staticClass:"ma-0"},[t._v("...in "+t._s(t.selectedStock.name))]),n("div",[n("j-btn",{staticClass:"x-small outlined",on:{click:function(e){t.showNewItemForm=!t.showNewItemForm}}},[t._v(" "+t._s(t.showNewItemForm?"cancel":"+ add")+" ")])],1)]),n("j-card-text",{staticClass:"px-0"},[n("div",[t._v(" Quantity: "+t._s(t.totalQuantityText)+" ")]),n("div",[t._v(" Servings: "+t._s(t.stockItemTotalServings)+" ")])]),n("j-card-text",{staticClass:"px-0"},[n("transition",{attrs:{name:"dropdown-fade"}},[t.showNewItemForm?n("j-card",{attrs:{outlined:""}},[n("j-card-text",[n("StockItemForm",t._b({attrs:{overrideFoodKind:t.stockItem.food_kind.name},on:{submit:function(e){return e.preventDefault(),t.onSubmitNewStockItem(e)}}},"StockItemForm",t.newStockItem,!1,!0))],1)],1):t._e()],1),n("h4",{staticClass:"ma-0"},[t._v("Items:")]),n("j-list",{attrs:{withSearch:!1,items:t.stockItem.items,liClass:"mb-2",indexKey:"food_kind_uniform_name"},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item;return[n("div",{staticClass:"mb-1"},[n("StockItemState",{attrs:{stockItem:e,state:e.current_state,stockItemId:e.id}})],1)]}}])})],1)],1)],1)])},Ve=[],Ze="SET_SELECTED_STOCK_ITEM_FOOD_KIND_ID",tn="POST_STOCK_ITEM_STATE",en="SELECTED_STOCK_ITEM",nn="SELECTED_STOCK_ITEM_UOM_NAME",an="SELECTED_STOCK_ITEM_TOTAL_QUANTITY",sn="SELECTED_STOCK_ITEM_TOTAL_SERVINGS",on="STATUS_OF_POST_STOCK_ITEM_STATE",rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isEditing?[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",[n("strong",[t._v("Current State")]),n("button",{staticClass:"ml-4",on:{click:function(e){t.isEditing=!1}}},[t._v("× Cancel")]),n("div",[t._v(" Date: "+t._s(t.state.date_created)+" ")]),n("div",[t._v(" Quantity: "+t._s(t.quantityText)+" ")]),n("div",[t._v(" Packaging Kind: "+t._s(t.state.packaging_kind.name)+" ")]),n("div",[t._v(" Packaging State: "+t._s(t.state.packaging_state.name)+" ")])])]),n("div",{staticClass:"col"},[n("h4",{staticClass:"ma-0"},[t._v("New State")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmitStockItemState(e)}}},[n("JInput",{attrs:{label:"Quantity ("+t.uomName+")",type:"number"},model:{value:t.quantity,callback:function(e){t.quantity=t._n(e)},expression:"quantity"}}),n("JSelect",{attrs:{label:"Packaging Kind",options:t.packagingKindOptions},model:{value:t.packagingKindId,callback:function(e){t.packagingKindId=e},expression:"packagingKindId"}}),n("JSelect",{attrs:{label:"Packaging State",options:t.packagingStateOptions},model:{value:t.packagingStateId,callback:function(e){t.packagingStateId=e},expression:"packagingStateId"}}),n("button",{attrs:{type:"submit"}},[t._v("Submit New State")])],1)])])]:[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",[n("strong",[t._v("Current State")]),t._v(" "),n("button",{staticClass:"ml-4",on:{click:function(e){t.isEditing=!0}}},[t._v("✎ Update")])]),t.state.id?[n("div",[t._v(" Date: "+t._s(new Date(t.state.date_created).toLocaleString())+" ")]),n("div",[t._v(" Quantity: "+t._s(t.quantityText)+" ")]),n("div",[t._v(" Packaging Kind: "+t._s(t.state.packaging_kind.name)+" ")]),n("div",[t._v(" Packaging State: "+t._s(t.state.packaging_state.name)+" ")])]:[t._v(" No record yet for this item ")]],2)])]],2)},cn=[],un={props:{stockItem:Object,state:Object,stockItemId:String},data:function(){return{isEditing:!1,quantity:0,packagingKindId:"",packagingStateId:""}},methods:Object(x["a"])({initFormFields:function(){this.quantity=this.state.quantity,this.packagingKindId=this.state.packaging_kind.id||this.defaultPackagingKindId,this.packagingStateId=this.state.packaging_state.id||this.defaultPackagingStateId},onSubmitStockItemState:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.postStockItemState(t.newStatePayload);case 2:"ERROR"!==t.statusOfPostStockItemState&&(t.isEditing=!1);case 3:case"end":return e.stop()}}),e)})))()}},Object(w["b"])("stock/stockItem",{postStockItemState:tn})),watch:{isEditing:function(t){this.initFormFields()}},computed:Object(x["a"])({newStatePayload:function(){return{stock_item_id:this.stockItemId,packaging_kind_id:this.packagingKindId,packaging_state_id:this.packagingStateId,quantity:this.quantity}}},Object(w["e"])("packaging",{packagingKindOptions:function(t){return t.kindList.map((function(t){return{value:t.id,text:t.name}}))},defaultPackagingKindId:function(t){return(t.kindList.find((function(t){return/n\/a/i.test(t.name)}))||{}).id},packagingStateOptions:function(t){return t.stateList.map((function(t){return{value:t.id,text:t.name}}))},defaultPackagingStateId:function(t){return(t.stateList.find((function(t){return/n\/a/i.test(t.name)}))||{}).id}}),{},Object(w["c"])("stock/stockItem",{statusOfPostStockItemState:on}),{uomName:function(){var t=this.stockItem.food_kind.unit_of_measurement.name;return t="Self"===t?this.stockItem.food_kind.name:t,t},quantityText:function(){return"".concat(this.state.quantity," ").concat(this.uomName)}})},dn=un,ln=Object(r["a"])(dn,rn,cn,!1,null,null,null),mn=ln.exports,fn={name:"StockItem",components:{StockItemForm:Pe,StockItemState:mn},data:function(){return{showNewItemForm:!1,newStockItem:{dateItemWasNew:"",expirationDate:""}}},computed:Object(x["a"])({},Object(w["c"])("stock",{selectedStock:Pt}),{},Object(w["c"])("stock/stockItem",{stockItem:en,stockItemUOMName:nn,stockItemTotalQuantity:an,stockItemTotalServings:sn}),{editLink:function(){return{name:"food-kind",params:{food_kind_id:this.stockItem.food_kind.id}}},totalQuantityText:function(){var t=this.stockItemTotalQuantity;return"".concat(t," ").concat(this.stockItemUOMName)},servingSizeText:function(){var t=this.stockItem.food_kind.serving_size;return"".concat(t," ").concat(this.stockItemUOMName)}}),methods:Object(x["a"])({},Object(w["b"])("stock",{postStockItem:yt}),{},Object(w["d"])("stock/stockItem",{setSelectedStockItemFoodKindId:Ze}),{onSubmitNewStockItem:function(){var t=this.newStockItem,e=t.dateItemWasNew,n=t.expirationDate;e&&n?(this.postStockItem({food_kind_id:this.stockItem.food_kind_id,date_item_was_new:e,expiration_date:n}),this.$set(this,"newStockItem",{expirationDate:"",dateItemWasNew:""}),this.showNewItemForm=!1):alert("Oops! Make sure you have filled out all fields")}}),beforeRouteEnter:function(t,e,n){n((function(e){e.setSelectedStockItemFoodKindId(t.params.item_id)}))},beforeRouteLeave:function(t,e,n){this.setSelectedStockItemFoodKindId(null),n()}},pn=fn,_n=Object(r["a"])(pn,Xe,Ve,!1,null,null,null),hn=_n.exports,bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Food Category")]),n("pre",[t._v("    "+t._s(t.foodCategory)+"\n  ")])])},vn=[],gn={computed:Object(x["a"])({},Object(w["c"])("foodCategory",{foodCategory:Ut})),methods:Object(x["a"])({},Object(w["d"])("foodCategory",{setSelectedFoodCategoryId:Ft})),beforeRouteEnter:function(t,e,n){n((function(e){e.setSelectedFoodCategoryId(t.params.food_category_id)}))},beforeRouteLeave:function(t,e,n){this.setSelectedFoodCategoryId(null),n()}},Sn=gn,kn=Object(r["a"])(Sn,bn,vn,!1,null,null,null),On=kn.exports,jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col mobile-12 tablet-6 desktop-4"},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0"},[n("h2",{staticClass:"my-0"},[t._v(t._s(t.foodKind.name))])]),n("j-card-text",{staticClass:"px-0"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("span",{staticClass:"text-weight--bold"},[t._v("Serving size:")]),t._v(" "+t._s(t.servingSizeText)+" ")])])])],1)],1),n("div",{staticClass:"col mobile-12 tablet-6 desktop-8"},[n("j-card",{attrs:{outlined:""}},[n("j-card-title",{staticClass:"pa-0"},[t._v(" Nutrition Info: ")]),n("j-card-text",{staticClass:"px-0"},[n("FoodKindUOMFormCard",{attrs:{unitOfMeasureName:t.uomName}}),t._v(" ...more ")],1)],1)],1)])},xn=[],wn=function(){var t;return{debounce:function(e,n){t&&clearTimeout(t),t=setTimeout(n,e)}}},Cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-card",{staticClass:"pa-0",attrs:{flat:""}},[n("j-card-text",{staticClass:"px-0"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col px-2 tablet-12 desktop-6"},[n("JInput",{attrs:{smallLabel:"",type:"number",step:"0.1",label:"Serving size",value:t.foodKind.serving_size},on:{input:function(e){return t.updateField("serving_size",e)}}})],1),n("div",{staticClass:"col px-2 tablet-12 desktop-6"},[n("JSelect",{attrs:{smallLabel:"",label:"Unit of measure",options:t.unitOfMeasureOptions,value:t.foodKindUOM.id},on:{input:function(e){return t.updateField("unit_of_measurement_id",e)}}})],1)])])],1)},In=[],En=n("ade3"),yn=wn(),Tn={computed:Object(x["a"])({},Object(w["c"])("foodKind",{foodKind:Ht,foodKindUOM:Xt}),{},Object(w["e"])("foodKind/unitOfMeasure",{unitOfMeasureOptions:function(t){return(t.list||[]).map((function(t){return{text:t.name,value:t.id}}))}})),methods:Object(x["a"])({},Object(w["b"])("foodKind",{updateFoodKind:Qt}),{updateField:function(t,e){var n=this;switch(t){case"serving_size":e&&e!==this.foodKind.name&&yn.debounce(500,(function(){n.onUpdateFoodKind(Object(En["a"])({},t,e))}));break;case"unit_of_measurement_id":e&&e!==this.foodKindUOM.id&&this.onUpdateFoodKind(Object(En["a"])({},t,e));break}},onUpdateFoodKind:function(t){this.updateFoodKind(Object(x["a"])({id:this.foodKind.id,name:this.foodKind.name,unit_of_measurement_id:this.foodKindUOM.id,serving_size:this.foodKind.serving_size},t))}})},Pn=Tn,Kn=Object(r["a"])(Pn,Cn,In,!1,null,null,null),Dn=Kn.exports,Rn={components:{FoodKindUOMFormCard:Dn},computed:Object(x["a"])({},Object(w["c"])("foodKind",{foodKind:Ht,foodKindUOM:Xt}),{uomName:function(){var t=this.foodKindUOM.name;return t="Self"===t?this.foodKind.name:t,t},servingSizeText:function(){return"".concat(this.foodKind.serving_size," ").concat(this.uomName)}}),methods:Object(x["a"])({},Object(w["d"])("foodKind",{setSelectedFoodKindId:$t})),beforeRouteEnter:function(t,e,n){n((function(e){e.setSelectedFoodKindId(t.params.food_kind_id)}))},beforeRouteLeave:function(t,e,n){this.setSelectedFoodKindId(null),n()}},Fn=Rn,Ln=Object(r["a"])(Fn,jn,xn,!1,null,null,null),Nn=Ln.exports;a["a"].use(d["a"]);var An=[{path:"/",component:_e,meta:{requiresAuth:!0},children:[{path:"",name:"home",component:ke,meta:{breadcrumbs:[{text:"Dashboard"}]}},{path:"stock/:stock_id",component:Be,children:[{path:"",name:"stock",component:Ye,meta:{breadcrumbs:[{to:"home",text:"Dashboard"},{text:"Stock"}]}},{path:"item/:item_id",name:"stock-item",component:hn,meta:{breadcrumbs:[{to:"home",text:"Dashboard"},{to:"stock",text:"Stock"},{text:"Food Kind"}]}}]},{path:"food-category/:food_category_id",name:"food-category",component:On,meta:{breadcrumbs:[{to:"home",text:"Dashboard"},{text:"Food Category"}]}},{path:"food-kind/:food_kind_id",name:"food-kind",component:Nn,meta:{breadcrumbs:[{to:"home",text:"Dashboard"},{text:"Food Kind"}]}}]}],Gn=[{path:"/login",component:S,children:[{path:"",name:"login",component:W},{path:"create-account",name:"create-account",component:tt},{path:"recover",name:"recover",component:mt},{path:"recover/:nonce",name:"recover-nonced",component:St}]},{path:"*",name:"404-not-found",component:_,meta:{breadcrumbs:[{to:"home",text:"Dashboard"},{text:"404 Not Found"}]}}],Un=new d["a"]({mode:"history",base:"/",routes:[].concat(An,Gn)}),Mn=Un,Jn=(n("d3b7"),n("d4ec")),$n=n("99de"),Bn=n("7e84"),qn=n("262e"),zn=n("9072"),Qn=function(t){function e(t,n){var a,s;Object(Jn["a"])(this,e);for(var o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];return s=Object($n["a"])(this,(a=Object(Bn["a"])(e)).call.apply(a,[this].concat(r))),s.name="ApiError",s.data=t,s.status=n,s}return Object(qn["a"])(e,t),e}(Object(zn["a"])(Error));function Wn(t){return Hn.apply(this,arguments)}function Hn(){return Hn=Object(j["a"])(regeneratorRuntime.mark((function t(e){var n,a,s,o,r,i,c,u,d,l,m,f,p=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},a=n.method,s=void 0===a?"GET":a,o=n.body,r=void 0===o?null:o,i=n.headers,c=void 0===i?{}:i,t.prev=1,u="/api/v1".concat(e),d={method:s,headers:Object(x["a"])({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(is.state.session.access_token)},c)},["POST","PUT"].includes(s)&&(d.body=JSON.stringify(r)),t.next=7,fetch(u,d);case 7:if(l=t.sent,!(l.status>=400)){t.next=13;break}return t.next=11,l.json();case 11:throw m=t.sent,new Qn(m,l.status);case 13:return t.next=15,l.json();case 15:return f=t.sent,t.abrupt("return",f);case 19:throw t.prev=19,t.t0=t["catch"](1),t.t0;case 22:case"end":return t.stop()}}),t,null,[[1,19]])}))),Hn.apply(this,arguments)}function Yn(t,e){return Wn(t,{headers:e})}function Xn(t,e,n){return Wn(t,{method:"POST",body:e,headers:n})}function Vn(t,e,n){return Wn(t,{method:"PUT",body:e,headers:n})}function Zn(t,e){return Wn(t,{method:"DELETE",headers:e})}var ta,ea,na,aa,sa,oa,ra,ia,ca,ua,da,la,ma,fa,pa,_a,ha,ba={get:Yn,post:Xn,put:Vn,delete:Zn},va="SET_REQ_STATE_ITEM",ga="GET_REQ_STATE",Sa="GET_REQ_DATA",ka=function(t){var e=t.commit,n=t.method,a=t.uri,s=t.status,o=t.data;e("reqState/".concat(va),{method:n,uri:a,status:s,data:o},{root:!0})},Oa=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{cacheGet:function(e){return{setStatus:function(n,a){ka({commit:e,method:"GET",uri:t,status:n,data:a})}}},cachePost:function(e){return{setStatus:function(n,a){ka({commit:e,method:"POST",uri:t,status:n,data:a})}}},cachePut:function(e){return{setStatus:function(n,a){ka({commit:e,method:"PUT",uri:t,status:n,data:a})}}},cacheDelete:function(e){return{setStatus:function(n,a){ka({commit:e,method:"DELETE",uri:t,status:n,data:a})}}}}},ja=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,s,o,r){var i=n?Sa:ga;return e?r["reqState/".concat(i)](t,e):function(e){return r["reqState/".concat(i)](t,e)}}},xa={isGet:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return ja("GET",n)},isPost:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return ja("POST",n)},isPut:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return ja("PUT",n)},isDelete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return ja("DELETE",n)}},wa={isGet:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return ja("GET",n,!0)},isPost:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return ja("POST",n,!0)},isPut:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return ja("PUT",n,!0)},isDelete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return ja("DELETE",n,!0)}},Ca="/account/reset",Ia="/account/send-reset-link",Ea={namespaced:!0,actions:(ta={},Object(En["a"])(ta,at,(function(t,e){var n=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Oa(Ia).cachePost(n),t.prev=1,a.setStatus(1,null),t.next=5,ba.post(Ia,{email:e});case 5:s=t.sent,a.setStatus(2,{pub_msg:s.pub_msg}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),t.t0 instanceof Qn?a.setStatus(3,{pub_msg:t.t0.data.pub_msg}):a.setStatus(3);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()})),Object(En["a"])(ta,st,(function(t,e){var n=t.commit,a=e.password,s=e.token;return Object(j["a"])(regeneratorRuntime.mark((function t(){var e,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Oa(Ca).cachePost(n),t.prev=1,e.setStatus(1,null),t.next=5,ba.post(Ca,{password:a},{Authorization:"Bearer ".concat(s)});case 5:o=t.sent,e.setStatus(2,{pub_msg:o.pub_msg}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),t.t0 instanceof Qn?e.setStatus(3,{pub_msg:t.t0.data.pub_msg}):e.setStatus(3);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()})),ta),getters:(ea={},Object(En["a"])(ea,ot,xa.isPost({uri:Ia})),Object(En["a"])(ea,rt,wa.isPost({uri:Ia})),Object(En["a"])(ea,it,xa.isPost({uri:Ca})),Object(En["a"])(ea,ct,wa.isPost({uri:Ca})),ea)},ya="/account/login",Ta="/account/register",Pa="/account/logout-access",Ka="/account/logout-refresh",Da={namespaced:!0,state:{access_token:"",refresh_token:"",exp:null},mutations:(na={},Object(En["a"])(na,C,(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.access_token,a=e.refresh_token;t.exp=(ht.a.decode(n)||{}).exp||null,t.access_token=n,t.refresh_token=a})),Object(En["a"])(na,I,(function(t){t.exp=null,t.access_token="",t.refresh_token=""})),na),actions:(aa={},Object(En["a"])(aa,T,(function(t,e){var n=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Oa(Ta).cachePost(n),t.prev=1,a.setStatus(1),t.next=5,ba.post(Ta,e);case 5:a.setStatus(2),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0 instanceof Qn?a.setStatus(3,{message:t.t0.data.pub_msg,status:t.t0.status}):a.setStatus(3);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()})),Object(En["a"])(aa,E,(function(t,e){var n=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Oa(ya).cachePost(n),t.prev=1,a.setStatus(1),t.next=5,ba.post(ya,e);case 5:s=t.sent,n(C,s.data),a.setStatus(2),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0),t.t0 instanceof Qn?a.setStatus(3,{message:t.t0.data.pub_msg,status:t.t0.status}):a.setStatus(3,{message:"Oops! There was an error. Please try again."});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(En["a"])(aa,y,(function(t){var e=t.commit,n=t.state,a=t.getters;return Object(j["a"])(regeneratorRuntime.mark((function t(){var s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=Oa(Pa).cachePost(e),o=Oa(Ka).cachePost(e),t.prev=2,s.setStatus(1),t.next=6,ba.post(Pa);case 6:s.setStatus(2),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),s.setStatus(3);case 12:return t.prev=12,o.setStatus(1),t.next=16,ba.post(Ka,null,{Authorization:"Bearer ".concat(n.refresh_token)});case 16:o.setStatus(2),t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](12),o.setStatus(3);case 22:"ERROR"!==a[N]&&"ERROR"!==a[A]&&e(I);case 23:case"end":return t.stop()}}),t,null,[[2,9],[12,19]])})))()})),aa),getters:(sa={},Object(En["a"])(sa,K,(function(t){var e={email:""};if(t.access_token){var n=ht.a.decode(t.access_token),a=n.user_claims,s=void 0===a?{}:a;e.email=s.email}return e})),Object(En["a"])(sa,P,(function(t){return function(){return t.exp&&new Date(1e3*t.exp)>new Date}})),Object(En["a"])(sa,F,wa.isPost({uri:Ta})),Object(En["a"])(sa,L,xa.isPost({uri:Ta})),Object(En["a"])(sa,D,wa.isPost({uri:ya})),Object(En["a"])(sa,R,xa.isPost({uri:ya})),Object(En["a"])(sa,N,xa.isPost({uri:Pa})),Object(En["a"])(sa,A,xa.isPost({uri:Ka})),sa)},Ra={0:"IDLE",1:"WAITING",2:"SUCCESS",3:"ERROR"},Fa={status:"",data:null},La=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{status:Ra[t],data:e}},Na=function(t,e){return"".concat(t,"_").concat(e)},Aa={namespaced:"true",state:{items:{}},mutations:Object(En["a"])({},va,(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.method,a=void 0===n?"GET":n,s=e.uri,o=void 0===s?"":s,r=e.status,i=void 0===r?0:r,c=e.data,u=void 0===c?null:c;t.items=Object(x["a"])({},t.items,Object(En["a"])({},Na(a,o),La(i,u)))})),getters:(oa={},Object(En["a"])(oa,ga,(function(t){return function(e,n){return(t.items[Na(e,n)]||Fa).status}})),Object(En["a"])(oa,Sa,(function(t){return function(e,n){return(t.items[Na(e,n)]||Fa).data}})),oa)},Ga=(n("c740"),n("13d5"),n("a434"),n("15fd")),Ua={id:"",date_created:"",date_updated:"",food_item_id:"",quantity:0,packaging_kind:{id:"",name:""},packaging_state:{id:"",name:""}},Ma={namespaced:!0,state:{foodKindId:""},mutations:Object(En["a"])({},Ze,(function(t,e){t.foodKindId=e})),actions:Object(En["a"])({},tn,(function(t,e){var n=t.dispatch,a=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="/food_item_state/",o=Oa(s).cachePost(a),t.prev=2,o.setStatus(1),t.next=6,ba.post(s,e);case 6:o.setStatus(2),n("stock/".concat(It),null,{root:!0}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),o.setStatus(3);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()})),getters:(ra={},Object(En["a"])(ra,en,(function(t,e,n,a){var s={food_kind:{},food_kind_id:"",items:[]},o=a["stock/SELECTED_STOCK"].items.reduce((function(e,n){if(n.food_kind_id===t.foodKindId){var a=n.current_state,s=Object(Ga["a"])(n,["current_state"]);e.push(Object(x["a"])({},s,{food_kind_uniform_name:s.food_kind.uniform_name,current_state:a||Ua}))}return e}),[]).sort((function(t,e){return t.expiration_date>e.expiration_date?1:-1}));return o.length&&(s.items=o,s.food_kind=o[0].food_kind,s.food_kind_id=o[0].food_kind_id),s})),Object(En["a"])(ra,nn,(function(t,e){var n="",a=e[en];return a.food_kind_id&&(n=a.food_kind.unit_of_measurement.name,n="Self"===n?a.food_kind.name:n),n})),Object(En["a"])(ra,an,(function(t,e){var n=0,a=e[en];return a.food_kind_id&&(n=a.items.reduce((function(t,e){return t+e.current_state.quantity}),0)),n})),Object(En["a"])(ra,sn,(function(t,e){var n=0,a=e[en];return a.food_kind_id&&(n=e[an]/a.food_kind.serving_size),Math.round(100*n)/100})),Object(En["a"])(ra,on,xa.isPost({uri:"/food_item_state/"})),ra)},Ja=Oa("/stock/"),$a={namespaced:!0,modules:{stockItem:Ma},state:{list:[],selectedStockId:null},mutations:(ia={},Object(En["a"])(ia,jt,(function(t,e){t.list=e})),Object(En["a"])(ia,xt,(function(t,e){var n=t.list.findIndex((function(t){return t.id===e.id}));t.list.splice(n,1,e)})),Object(En["a"])(ia,wt,(function(t,e){t.selectedStockId=e})),ia),actions:(ca={},Object(En["a"])(ca,Ct,(function(t){var e=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Ja.cacheGet(e),t.prev=1,n.setStatus(1),t.next=5,ba.get("/stock/");case 5:a=t.sent,e(jt,a.data),n.setStatus(2),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),n.setStatus(3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(En["a"])(ca,It,(function(t){t.dispatch;var e=t.state,n=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Oa("/stock/".concat(e.selectedStockId)).cacheGet(n),t.prev=1,a.setStatus(1),t.next=5,ba.get("/stock/".concat(e.selectedStockId));case 5:s=t.sent,a.setStatus(2),n(xt,s.data),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log("EORORORRR",t.t0),a.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(En["a"])(ca,Et,(function(t,e){var n=t.dispatch,a=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=Ja.cachePost(a),t.prev=1,s.setStatus(1),t.next=5,ba.post("/stock/",{name:e});case 5:return s.setStatus(2),t.next=8,n(Ct);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),s.setStatus(3);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(En["a"])(ca,yt,(function(t,e){var n=t.commit,a=t.dispatch,s=t.state,o=e.food_kind_id,r=e.expiration_date,i=e.date_item_was_new;return Object(j["a"])(regeneratorRuntime.mark((function t(){var e,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/stock/item/".concat(s.selectedStockId),c=Oa(e).cachePost(n),t.prev=2,c.setStatus(1),t.next=6,ba.post(e,{food_kind_id:o,expiration_date:r,date_item_was_new:i});case 6:return c.setStatus(2),t.next=9,a(It);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),c.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),Object(En["a"])(ca,Tt,(function(t,e){var n=t.dispatch,a=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="/stock/".concat(e),o=Oa(s).cacheDelete(a),t.prev=2,o.setStatus(1),t.next=6,ba.delete(s);case 6:return o.setStatus(2),t.next=9,n(Ct);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),o.setStatus(3),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),ca),getters:(ua={},Object(En["a"])(ua,Pt,(function(t){var e={id:"",date_created:"",date_updated:"",items:[],name:"",uniform_name:"",user_id:""},n=t.list.find((function(e){return e.id===t.selectedStockId}));return n||e})),Object(En["a"])(ua,Kt,(function(t,e){return e[Pt].items.reduce((function(t,e,n,a){return Object(x["a"])({},t,Object(En["a"])({},e.food_kind_id,Object(x["a"])({},e.food_kind,{items:a.reduce((function(t,n){return n.food_kind_id===e.food_kind_id&&t.push({expiration_date:n.expiration_date,date_item_was_new:n.date_item_was_new}),t}),[]).sort((function(t,e){return t.expiration_date>e.expiration_date?1:-1}))})))}),{})})),Object(En["a"])(ua,Dt,xa.isPost({uri:"/stock/"})),ua)},Ba={namespaced:!0,state:{list:[],selectedFoodCategoryId:null},mutations:(da={},Object(En["a"])(da,Rt,(function(t,e){t.list=e})),Object(En["a"])(da,Ft,(function(t,e){t.selectedFoodCategoryId=e})),da),actions:(la={},Object(En["a"])(la,Lt,(function(t){var e=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ba.get("/categories/food/category");case 3:n=t.sent,e(Rt,n.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()})),Object(En["a"])(la,Nt,(function(t,e){var n=t.dispatch;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ba.post("/categories/food/category",{name:e});case 3:return t.next=5,n(Lt);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()})),Object(En["a"])(la,At,(function(t,e){var n=t.dispatch,a=e.id,s=e.name;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ba.put("/categories/food/category/".concat(a),{name:s});case 3:return t.next=5,n(Lt);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()})),Object(En["a"])(la,Gt,(function(t,e){var n=t.dispatch;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ba.delete("/categories/food/category/".concat(e));case 3:return t.next=5,n(Lt);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()})),la),getters:Object(En["a"])({},Ut,(function(t){var e={id:"",name:"",uniform_name:""},n=t.list.find((function(e){return e.id===t.selectedFoodCategoryId}));return n||e}))},qa={namespaced:!0,state:{list:[]},mutations:Object(En["a"])({},ee,(function(t,e){t.list=e})),actions:Object(En["a"])({},te,(function(t){var e=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/unit_of_measure/",a=Oa(n).cacheGet(e),t.prev=2,a.setStatus(1),t.next=6,ba.get(n);case 6:s=t.sent,e(ee,s.data),a.setStatus(2),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),a.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()}))},za="/categories/food/kind",Qa={namespaced:!0,modules:{unitOfMeasure:qa},state:{list:[],selectedFoodKindId:null},mutations:(ma={},Object(En["a"])(ma,Mt,(function(t,e){t.list=e})),Object(En["a"])(ma,Jt,(function(t,e){var n=t.list.findIndex((function(t){return t.id===e.id}));t.list.splice(n,1,e)})),Object(En["a"])(ma,$t,(function(t,e){t.selectedFoodKindId=e})),ma),actions:(fa={},Object(En["a"])(fa,Bt,(function(t){var e=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Oa(za).cacheGet(e),t.prev=1,n.setStatus(1),t.next=5,ba.get(za);case 5:a=t.sent,n.setStatus(2),e(Mt,a.data),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n.setStatus(3);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(En["a"])(fa,qt,(function(t,e){var n=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var a,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="".concat(za,"/").concat(e),s=Oa(a).cacheGet(n),t.prev=2,s.setStatus(1),t.next=6,ba.get(a);case 6:o=t.sent,s.setStatus(2),n(Jt,o.data),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),s.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),Object(En["a"])(fa,zt,(function(t,e){var n=t.dispatch,a=t.commit,s=e.name;return Object(j["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Oa(za).cachePost(a),t.prev=1,e.setStatus(1),t.next=5,ba.post(za,{name:s});case 5:return e.setStatus(2),t.next=8,n(Bt);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.setStatus(3);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(En["a"])(fa,Qt,(function(t,e){var n=t.dispatch,a=t.commit,s=e.id,o=e.name,r=e.unit_of_measurement_id,i=e.serving_size;return Object(j["a"])(regeneratorRuntime.mark((function t(){var e,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(za,"/").concat(s),c=Oa(e).cachePut(a),t.prev=2,c.setStatus(1),t.next=6,ba.put(e,{name:o,unit_of_measurement_id:r,serving_size:i});case 6:return c.setStatus(2),t.next=9,n(qt,s);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),c.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),Object(En["a"])(fa,Wt,(function(t,e){var n=t.dispatch,a=t.commit,s=e.id,o=e.force;return Object(j["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(za,"/").concat(s).concat(o?"?force=true":""),r=Oa(e).cacheDelete(a),t.prev=2,r.setStatus(1),t.next=6,ba.delete(e);case 6:return t.sent,r.setStatus(2),t.next=10,n(Bt);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),t.t0 instanceof Qn?r.setStatus(3,t.t0.data.pub_msg):r.setStatus(3);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()})),fa),getters:(pa={},Object(En["a"])(pa,Ht,(function(t){var e={id:"",user_id:"",name:"",uniform_name:"",unit_of_measurement:{},serving_size:0,nutrition_info:{},categories:[]},n=t.list.find((function(e){return e.id===t.selectedFoodKindId}));return n||e})),Object(En["a"])(pa,Xt,(function(t,e){return e[Ht].unit_of_measurement})),Object(En["a"])(pa,Yt,(function(t){return function(e){return t.list.find((function(t){return t.id===e}))}})),Object(En["a"])(pa,Vt,xa.isPost({uri:za})),Object(En["a"])(pa,Zt,wa.isDelete()),pa)},Wa={namespaced:!0,state:{stateList:[],kindList:[]},mutations:(_a={},Object(En["a"])(_a,oe,(function(t,e){t.stateList=e})),Object(En["a"])(_a,se,(function(t,e){t.kindList=e})),_a),actions:(ha={},Object(En["a"])(ha,ae,(function(t){var e=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/categories/packaging/state",a=Oa(n).cacheGet(e),t.prev=2,a.setStatus(1),t.next=6,ba.get(n);case 6:s=t.sent,e(oe,s.data),a.setStatus(2),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),console.log(t.t0),a.setStatus(3);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),Object(En["a"])(ha,ne,(function(t){var e=t.commit;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/categories/packaging/kind",a=Oa(n).cacheGet(e),t.prev=2,a.setStatus(1),t.next=6,ba.get(n);case 6:s=t.sent,e(se,s.data),a.setStatus(2),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),a.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),ha)};a["a"].use(w["a"]);var Ha,Ya,Xa,Va,Za,ts,es,ns,as,ss,os,rs,is=new w["a"].Store({modules:{account:Ea,foodCategory:Ba,foodKind:Qa,packaging:Wa,reqState:Aa,session:Da,stock:$a}}),cs=(n("72b8"),n("2660"),n("5a41"),function(t,e){var n=e._c;return e.props.value?n("div",{staticClass:"j-dialog",attrs:{role:"dialog"}},[n("div",{staticClass:"j-dialog__content"},[n("button",{staticClass:"btn text icon close-dialog",on:{click:function(t){return e.listeners.input(!1)}}},[e._v("x")]),e._t("default")],2)]):e._e()}),us=[],ds={props:{value:Boolean}},ls=ds,ms=(n("9199"),Object(r["a"])(ls,cs,us,!0,null,null,null)),fs=ms.exports,ps=function(t,e){var n=e._c;return n("div",{staticClass:"j-input",class:[e.data.staticClass,e.data.class]},[n("label",{staticClass:"j-input__label",class:{small:e.props.smallLabel}},[e._t("label",[e._v(" "+e._s(e.props.label)+" ")])],2),n("input",e._b({staticClass:"j-input__input",domProps:{value:e.props.value},on:{input:function(t){return e.listeners.input(t.target.value)}}},"input",e.data.attrs,!1))])},_s=[],hs=(n("a9e3"),{props:{label:String,smallLabel:Boolean,value:[String,Number],horizontal:Boolean}}),bs=hs,vs=(n("1f66"),Object(r["a"])(bs,ps,_s,!0,null,null,null)),gs=vs.exports,Ss={functional:!0,props:{to:[Object,String]},render:function(t,e){var n=e.props,a=e.children,s=e.data,o=n.to;Object(Ga["a"])(n,["to"]);return o?t("router-link",Object(x["a"])({},s,{props:{to:o},attrs:Object(x["a"])({type:"button"},s.attrs),class:Object(x["a"])({"j-btn":!0},s.class)}),a):t("button",Object(x["a"])({},s,{attrs:Object(x["a"])({type:"button"},s.attrs),class:Object(x["a"])({"j-btn":!0},s.class)}),a)}},ks=Ss,Os=(n("bd47"),Object(r["a"])(ks,Ha,Ya,!1,null,null,null)),js=Os.exports,xs=n("2909"),ws={functional:!0,props:{label:String,smallLabel:Boolean,value:[String,Number,Object],options:Array,horizontal:Boolean},render:function(t,e){var n=t("label",{class:{"j-input__label":!0,small:e.props.smallLabel}},e.props.label),a=e.props.options.map((function(n){return t("option",{attrs:{value:n.value||n,selected:(n.value||n)===e.props.value}},n.text||n)})),s=t("option",{attrs:{disabled:!0,selected:!0,value:""}},"Please select one"),o=t("select",{class:"j-input__input",attrs:{value:e.props.value},on:{input:function(t){return e.listeners.input(t.target.value)}}},[s].concat(Object(xs["a"])(a)));return t("div",{class:{"j-input":!0,"label-beside":e.props.horizontal}},[n,o])}},Cs=ws,Is=Object(r["a"])(Cs,Xa,Va,!1,null,null,null),Es=Is.exports,ys=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.withSearch?n("div",{staticClass:"d-flex align-end"},[n("JInput",{attrs:{label:t.searchLabel,placeholder:t.searchPlaceholder},model:{value:t.search,callback:function(e){t.search="string"===typeof e?e.trim():e},expression:"search"}})],1):t._e(),n("ul",{staticClass:"j-list",class:{striped:t.striped}},t._l(t.currentPageItems,(function(e,a){return n("li",{key:a,staticClass:"j-list__item",class:t.liClass,style:t.liStyle},[t._t("item",null,null,{i:a,item:e})],2)})),0),n("JPagination",{attrs:{items:t.searchedListItems,itemsPerPage:t.itemsPerPage,currentPage:t.currentPage,currentPageItems:t.currentPageItems},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:currentPageItems":function(e){t.currentPageItems=e},"update:current-page-items":function(e){t.currentPageItems=e}}})],1)},Ts=[],Ps=(n("4de4"),n("45fc"),n("b64b"),n("4d63"),n("ac1f"),n("25f0"),n("841c"),{props:{withSearch:{type:Boolean,default:!0},sort:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},ascending:Boolean,items:{type:Array,default:function(){return[]}},searchLabel:String,searchPlaceholder:String,searchKeys:{type:Array,default:function(){return["text"]}},indexKey:{type:String,default:"text"},liClass:{type:[String,Object],default:""},liStyle:{type:[String,Object],default:""}},data:function(){return{search:"",itemsPerPage:10,currentPage:1,currentPageItems:[]}},watch:{searchedListItems:function(t){var e=this.itemsPerPage*(this.currentPage-1)+1;e>t.length&&(this.currentPage=Math.floor(e/this.itemsPerPage)||1)}},computed:{sortedListItems:function(){var t=this;if(!this.sort)return this.items;var e=this.indexAlphabetically(this.items),n=Object.keys(e).sort((function(e,n){return t.ascending?e>n?-1:1:e>n?1:-1}));return n.reduce((function(t,n){return[].concat(Object(xs["a"])(t),Object(xs["a"])(e[n]))}),[])},searchedListItems:function(){var t=this;if(this.search){var e=new RegExp("".concat(this.search),"i");return this.sortedListItems.filter((function(n){return t.searchKeys.some((function(t){return e.test(n[t])}))}))}return this.sortedListItems}},methods:{indexAlphabetically:function(t){var e=this;return t.reduce((function(t,n){var a=n[e.indexKey][0].toLowerCase();return t[a]||(t[a]=[]),t[a].push(n),t}),{})}}}),Ks=Ps,Ds=(n("ab32"),Object(r["a"])(Ks,ys,Ts,!1,null,null,null)),Rs=Ds.exports,Fs=function(t,e){var n=e._c;return n("transition",{attrs:{name:"dropdown-fade"}},[e.props.value?n("j-card",{staticClass:"pa-1",class:(e.data.class||[]).concat([e.data.staticClass]),style:(e.data.style||[]).concat([e.data.staticStyle]),attrs:{outlined:""}},[n("j-card-actions",{staticClass:"pa-0"},[n("div",{staticClass:"d-flex justify-end align-start"},[n("j-btn",{staticClass:"square text outlined-hover",staticStyle:{"align-self":"center"},on:{click:function(t){return e.listeners.input(!1)}}},[e._v("x")])],1)]),n("j-card-text",{staticClass:"pa-2"},[n("span",[e._t("default",[e._v(e._s(e.props.message))])],2)])],1):e._e()],1)},Ls=[],Ns={inheritAttrs:!1,props:{value:Boolean,message:String,kind:String}},As=Ns,Gs=Object(r["a"])(As,Fs,Ls,!0,null,null,null),Us=Gs.exports,Ms=(n("0481"),n("4069"),{functional:!0,props:{flat:Boolean,outlined:Boolean},render:function(t,e){return t("article",Object(x["a"])({},e.data,{staticClass:"j-card ".concat(e.data.class),class:{flat:e.props.flat,outlined:e.props.outlined}}),e.children)}}),Js=Ms,$s=(n("1f6e"),Object(r["a"])(Js,Za,ts,!1,null,null,null)),Bs=$s.exports,qs={functional:!0,render:function(t,e){return t("section",Object(x["a"])({},e.data,{class:"j-card-title"}),e.children)}},zs=qs,Qs=Object(r["a"])(zs,es,ns,!1,null,null,null),Ws=Qs.exports,Hs={functional:!0,render:function(t,e){return t("section",Object(x["a"])({},e.data,{class:{"j-card-text":!0}}),e.children)}},Ys=Hs,Xs=Object(r["a"])(Ys,as,ss,!1,null,null,null),Vs=Xs.exports,Zs={functional:!0,render:function(t,e){return t("section",Object(x["a"])({},e.data,{class:{"j-card-actions":!0}}),e.children)}},to=Zs,eo=Object(r["a"])(to,os,rs,!1,null,null,null),no=eo.exports,ao={install:function(t){t.component("JCard",Bs),t.component("JCardTitle",Ws),t.component("JCardText",Vs),t.component("JCardActions",no)}},so=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-center justify-between"},[n("div",[t.totalPages>1?n("div",[n("j-btn",{staticClass:"square text outlined-hover pagination-btn",attrs:{disabled:t.prevBtnDisabled,title:t.prevBtnDisabled?"":"Previous page"},on:{click:t.goPrevPage}},[n("span",{staticClass:"arrow left"})]),t._l(t.totalPages,(function(e){return n("j-btn",{key:e,staticClass:"square text outlined-hover pagination-btn",class:{active:e===t.currentPage},attrs:{title:"Page "+e},on:{click:function(n){return t.update("currentPage",e)}}},[t._v(" "+t._s(e)+" ")])})),n("j-btn",{staticClass:"square text outlined-hover pagination-btn",attrs:{disabled:t.nextBtnDisabled,title:t.nextBtnDisabled?"":"Next page"},on:{click:t.goNextPage}},[n("span",{staticClass:"arrow right"})])],2):t._e()]),n("small",[t._v(t._s(t.message))])])},oo=[],ro=(n("fb6a"),{props:{items:Array,itemsPerPage:Number,currentPage:Number,currentPageItems:Array},methods:{update:function(t,e){this.$emit("update:".concat(t),e)},goPrevPage:function(){this.currentPage-1>=1&&this.update("currentPage",this.currentPage-1)},goNextPage:function(){this.currentPage+1<=this.totalPages&&this.update("currentPage",this.currentPage+1)}},computed:{totalPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},prevBtnDisabled:function(){return this.currentPage-1<1},nextBtnDisabled:function(){return this.currentPage+1>this.totalPages},currentPageStart:function(){return this.itemsPerPage*(this.currentPage-1)},currentPageEnd:function(){return this.currentPageStart+this.itemsPerPage},message:function(){return 0===this.items.length?"No items":1===this.items.length?"1 of 1 items":1===this.currentPageItems.length?"Item ".concat(this.currentPageStart+1," of ").concat(this.items.length):"Items ".concat(this.currentPageStart+1,"-").concat(this.currentPageStart+this.currentPageItems.length," of ").concat(this.items.length)}},watch:{items:{immediate:!0,deep:!0,handler:function(t){var e=this.itemsPerPage*(this.currentPage-1)+1;e>t.length&&this.update("currentPage",Math.floor(e/this.itemsPerPage)||1),this.update("currentPageItems",t.slice(this.currentPageStart,this.currentPageEnd))}},currentPageStart:{handler:function(t){this.update("currentPageItems",this.items.slice(t,this.currentPageEnd))}}}}),io=ro,co=(n("5b70"),Object(r["a"])(io,so,oo,!1,null,null,null)),uo=co.exports,lo=function(t,e){var n=e._c;return n("div",{staticClass:"j-toolbar",class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle]},[n("section",{staticClass:"j-toolbar__title"},[e._t("title",[e._v(e._s(e.props.title))])],2),n("section",{staticClass:"j-toolbar__actions"},[e._t("actions")],2)])},mo=[],fo={props:{title:String}},po=fo,_o=(n("c621"),Object(r["a"])(po,lo,mo,!0,null,null,null)),ho=_o.exports,bo=(n("5319"),{access_token:"",refresh_token:""});function vo(t){return function(e,n,a){return e.matched.some((function(t){return t.meta.requiresAuth}))?t.getters["session/GET_IS_LOGGED_IN"]()?a():(t.commit("session/SET_SESSION_LOGGED_OUT"),a({name:"login"})):a()}}function go(t){var e=JSON.parse(localStorage.getItem("auth"))||bo;t.commit("session/SET_SESSION",e)}function So(t,e){t.subscribe((function(t){var e=t.type,n=t.payload;switch(e){case"session/SET_SESSION":localStorage.setItem("auth",JSON.stringify(n));break;case"session/SET_SESSION_LOGGED_OUT":localStorage.setItem("auth",JSON.stringify(bo)),location.replace("/login");break}}))}var ko={install:function(t,e){var n=e.store,a=e.router;go(n),So(n,a);var s=vo(n);a.beforeEach(s)}};a["a"].use(ko,{store:is,router:Mn}),a["a"].use(ao),a["a"].component("JDialog",fs),a["a"].component("JInput",gs),a["a"].component("JBtn",js),a["a"].component("JSelect",Es),a["a"].component("JList",Rs),a["a"].component("JAlert",Us),a["a"].component("JPagination",uo),a["a"].component("JToolbar",ho),a["a"].directive("focus",{inserted:function(t){t.focus()}}),a["a"].config.productionTip=!1,new a["a"]({router:Mn,store:is,render:function(t){return t(u)}}).$mount("#app")},"5a41":function(t,e,n){},"5b70":function(t,e,n){"use strict";var a=n("37f9"),s=n.n(a);s.a},"5ce9":function(t,e,n){},"72b8":function(t,e,n){},"78e7":function(t,e,n){},9199:function(t,e,n){"use strict";var a=n("f080"),s=n.n(a);s.a},"93f1":function(t,e,n){"use strict";var a=n("eff9"),s=n.n(a);s.a},a23d:function(t,e,n){"use strict";var a=n("4fca"),s=n.n(a);s.a},a621:function(t,e,n){"use strict";var a=n("538c"),s=n.n(a);s.a},ab32:function(t,e,n){"use strict";var a=n("47bd"),s=n.n(a);s.a},b429:function(t,e,n){},bd47:function(t,e,n){"use strict";var a=n("3b1a"),s=n.n(a);s.a},bec0:function(t,e,n){"use strict";var a=n("1d82"),s=n.n(a);s.a},c4ff:function(t,e,n){},c621:function(t,e,n){"use strict";var a=n("78e7"),s=n.n(a);s.a},e479:function(t,e,n){"use strict";var a=n("b429"),s=n.n(a);s.a},eff9:function(t,e,n){},f080:function(t,e,n){}});
//# sourceMappingURL=app.fe8a5c9e.js.map