(function(t){function e(e){for(var a,r,i=e[0],c=e[1],u=e[2],l=0,m=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"1d82":function(t,e,n){},"1f66":function(t,e,n){"use strict";var a=n("c4ff"),s=n.n(a);s.a},"1f6e":function(t,e,n){"use strict";var a=n("5ce9"),s=n.n(a);s.a},2:function(t,e){},2660:function(t,e,n){},3:function(t,e){},"37f9":function(t,e,n){},"3b1a":function(t,e,n){},4:function(t,e){},"47bd":function(t,e,n){},"4fca":function(t,e,n){},"538c":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,s,o,r,i,c,u,d,l,m,f,p,_,h,b,v=n("2b0e"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col tablet-12 desktop-10"},[n("router-view")],1)])])},S=[],k=n("2877"),O={},j=Object(k["a"])(O,g,S,!1,null,null,null),x=j.exports,w=(n("99af"),n("8c4f")),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("404 Not Found")])},C=[],E={},y=Object(k["a"])(E,I,C,!1,null,null,null),T=y.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"padding-top":"64px"}},[n("router-view")],1)},P=[],D={},F=Object(k["a"])(D,K,P,!1,null,null,null),R=F.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col mobile-10 tablet-6 desktop-4",staticStyle:{"max-width":"400px","min-width":"300px"}},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",[n("h3",[t._v("Login")]),n("span",{staticClass:"divider invisible"}),n("username-and-pw-form",t._b({on:{submit:function(e){return e.preventDefault(),t.onLogin(e)}},scopedSlots:t._u([{key:"actions",fn:function(){return[n("div",{staticClass:"d-flex flex-column align-center"},[n("j-btn",{staticClass:"mb-4 outlined",staticStyle:{"align-self":"stretch"},attrs:{type:"submit"}},[t._v("Login")]),n("j-btn",{staticClass:"mb-2 text text--underlined",attrs:{to:{name:"create-account"}}},[t._v("Create an account")]),n("j-btn",{staticClass:"text text--caption text--underlined",attrs:{to:{name:"recover"}}},[t._v("Forgot password")])],1)]},proxy:!0}])},"username-and-pw-form",t.credentials,!1,!0)),n("div",{staticClass:"mt-4"},[n("j-alert",{model:{value:t.isLoginComplete,callback:function(e){t.isLoginComplete=e},expression:"isLoginComplete"}},[t._v(" "+t._s(t.loginStatusMessage)+" ")])],1)],1)],1)],1)])},N=[],A=(n("96cf"),n("1da1")),G=n("5530"),M=n("2f62"),U="SET_SESSION",J="SET_SESSION_LOGGED_OUT",q="LOGIN",$="LOGOUT",B="REGISTER",z="GET_IS_LOGGED_IN",Q="USER_CLAIMS",W="LOGIN_REQ_DATA",H="LOGIN_REQ_STATUS",Y="REGISTER_REQ_DATA",X="REGISTER_REQ_STATUS",V="LOGOUT_ACCESS_REQ_STATUS",Z="LOGOUT_REFRESH_REQ_STATUS",tt=function(t,e){var n=e._c;return n("form",e._g({staticClass:"d-flex flex-column"},e.listeners),[n("JInput",{staticClass:"mb-4",attrs:{type:"email",label:"Email",value:e.props.email},on:{input:e.listeners["update:email"]}}),n("JInput",{staticClass:"mb-4",attrs:{type:"password",label:"Password",value:e.props.password},on:{input:e.listeners["update:password"]}}),e._t("actions")],2)},et=[],nt={props:{email:{type:String,required:!0},password:{type:String,required:!0}}},at=nt,st=Object(k["a"])(at,tt,et,!0,null,null,null),ot=st.exports,rt={components:{UsernameAndPwForm:ot},data:function(){return{isLoginComplete:!1,credentials:{email:"",password:""}}},computed:Object(G["a"])({},Object(M["c"])("session",{sessionLoginStatus:H,sessionLoginData:W}),{loginStatusMessage:function(){return this.sessionLoginData?this.sessionLoginData.message:""}}),methods:Object(G["a"])({},Object(M["b"])("session",{sessionLogin:q}),{onLogin:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.credentials.email||!t.credentials.password){e.next=6;break}return e.next=4,t.sessionLogin(t.credentials);case 4:"ERROR"!==t.sessionLoginStatus&&t.$router.push({name:"home"}),t.isLoginComplete=!0;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}})},it=rt,ct=Object(k["a"])(it,L,N,!1,null,null,null),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col mobile-10 tablet-6 desktop-4",staticStyle:{"max-width":"400px","min-width":"300px"}},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",[n("h3",[t._v("Register")]),n("span",{staticClass:"divider invisible"}),n("username-and-pw-form",t._b({on:{submit:function(e){return e.preventDefault(),t.onCreateAccount(e)}},scopedSlots:t._u([{key:"actions",fn:function(){return[n("div",{staticClass:"d-flex flex-column align-center"},[n("j-btn",{staticClass:"mb-4 outlined",staticStyle:{"align-self":"stretch"},attrs:{type:"submit"}},[t._v("Create account")]),n("j-btn",{staticClass:"text text--underlined",attrs:{to:{name:"login"}}},[t._v("back to login")])],1)]},proxy:!0}])},"username-and-pw-form",t.credentials,!1,!0)),n("div",{staticClass:"mt-4"},[n("j-alert",{model:{value:t.isCreateAccountComplete,callback:function(e){t.isCreateAccountComplete=e},expression:"isCreateAccountComplete"}},["ERROR"===t.createAccountStatus?n("span",[t._v(" "+t._s(t.createAccountErrorMessage)+" ")]):n("span",{staticClass:"text-success"},[t._v(" You have successfully created your account. ")])])],1)],1)],1)],1)])},lt=[],mt={components:{UsernameAndPwForm:ot},data:function(){return{isCreateAccountComplete:!1,credentials:{email:"",password:""}}},computed:Object(G["a"])({},Object(M["c"])("session",{createAccountStatus:X,createAccountData:Y}),{createAccountErrorMessage:function(){if("ERROR"===this.createAccountStatus&&this.createAccountData)return this.createAccountData.message}}),methods:Object(G["a"])({},Object(M["b"])("session",{createAccount:B}),{onCreateAccount:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.credentials.email||!t.credentials.password){e.next=4;break}return e.next=3,t.createAccount(t.credentials);case 3:t.isCreateAccountComplete=!0;case 4:case"end":return e.stop()}}),e)})))()}})},ft=mt,pt=Object(k["a"])(ft,dt,lt,!1,null,null,null),_t=pt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col mobile-10 tablet-6 desktop-4",staticStyle:{"max-width":"400px","min-width":"300px"}},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",[n("h3",[t._v("Send password reset email")]),n("p",[t._v(" Enter your email address and we'll send you a link where you can change your password. ")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.onSendLink(e)}}},[n("JInput",{staticClass:"mb-4",attrs:{placeholder:"jane.shmane@wayne.com"},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}}),n("div",{staticClass:"d-flex flex-column align-center"},[n("j-btn",{staticClass:"outlined mb-3",staticStyle:{"align-self":"stretch"},attrs:{type:"submit",disabled:!t.email.length}},[t._v(" Send link ")]),n("j-btn",{staticClass:"text text--underlined",attrs:{to:{name:"login"}}},[t._v(" Back to login ")])],1)],1)])],1)],1)])},bt=[],vt=(n("caad"),n("b0c0"),n("d3b7"),n("d4ec")),gt=n("99de"),St=n("7e84"),kt=n("262e"),Ot=n("9072"),jt=n("ade3"),xt=n("14b7"),wt=n.n(xt),It="SET_REQ_STATE_ITEM",Ct="GET_REQ_STATE",Et="GET_REQ_DATA",yt=function(t){var e=t.commit,n=t.method,a=t.uri,s=t.status,o=t.data;e("reqState/".concat(It),{method:n,uri:a,status:s,data:o},{root:!0})},Tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{cacheGet:function(e){return{setStatus:function(n,a){yt({commit:e,method:"GET",uri:t,status:n,data:a})}}},cachePost:function(e){return{setStatus:function(n,a){yt({commit:e,method:"POST",uri:t,status:n,data:a})}}},cachePut:function(e){return{setStatus:function(n,a){yt({commit:e,method:"PUT",uri:t,status:n,data:a})}}},cacheDelete:function(e){return{setStatus:function(n,a){yt({commit:e,method:"DELETE",uri:t,status:n,data:a})}}}}},Kt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,s,o,r){var i=n?Et:Ct;return e?r["reqState/".concat(i)](t,e):function(e){return r["reqState/".concat(i)](t,e)}}},Pt={isGet:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return Kt("GET",n)},isPost:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return Kt("POST",n)},isPut:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return Kt("PUT",n)},isDelete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return Kt("DELETE",n)}},Dt={isGet:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return Kt("GET",n,!0)},isPost:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return Kt("POST",n,!0)},isPut:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return Kt("PUT",n,!0)},isDelete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uri,n=void 0===e?"":e;t.isData;return Kt("DELETE",n,!0)}},Ft="/account/login",Rt="/account/register",Lt="/account/logout-access",Nt="/account/logout-refresh",At={namespaced:!0,state:{access_token:"",refresh_token:"",exp:null},mutations:(a={},Object(jt["a"])(a,U,(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.access_token,a=e.refresh_token;t.exp=(wt.a.decode(n)||{}).exp||null,t.access_token=n,t.refresh_token=a})),Object(jt["a"])(a,J,(function(t){t.exp=null,t.access_token="",t.refresh_token=""})),a),actions:(s={},Object(jt["a"])(s,B,(function(t,e){var n=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Tt(Rt).cachePost(n),t.prev=1,a.setStatus(1),t.next=5,Ve.post(Rt,e);case 5:a.setStatus(2),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0 instanceof Be?a.setStatus(3,{message:t.t0.data.pub_msg,status:t.t0.status}):a.setStatus(3);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()})),Object(jt["a"])(s,q,(function(t,e){var n=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Tt(Ft).cachePost(n),t.prev=1,a.setStatus(1),t.next=5,Ve.post(Ft,e);case 5:s=t.sent,n(U,s.data),a.setStatus(2),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0),t.t0 instanceof Be?a.setStatus(3,{message:t.t0.data.pub_msg,status:t.t0.status}):a.setStatus(3,{message:"Oops! There was an error. Please try again."});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(jt["a"])(s,$,(function(t){var e=t.commit,n=t.state,a=t.getters;return Object(A["a"])(regeneratorRuntime.mark((function t(){var s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=Tt(Lt).cachePost(e),o=Tt(Nt).cachePost(e),t.prev=2,s.setStatus(1),t.next=6,Ve.post(Lt);case 6:s.setStatus(2),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),s.setStatus(3);case 12:return t.prev=12,o.setStatus(1),t.next=16,Ve.post(Nt,null,{Authorization:"Bearer ".concat(n.refresh_token)});case 16:o.setStatus(2),t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](12),o.setStatus(3);case 22:"ERROR"!==a[V]&&"ERROR"!==a[Z]&&e(J);case 23:case"end":return t.stop()}}),t,null,[[2,9],[12,19]])})))()})),s),getters:(o={},Object(jt["a"])(o,Q,(function(t){var e={email:""};if(t.access_token){var n=wt.a.decode(t.access_token),a=n.user_claims,s=void 0===a?{}:a;e.email=s.email}return e})),Object(jt["a"])(o,z,(function(t){return function(){return t.exp&&new Date(1e3*t.exp)>new Date}})),Object(jt["a"])(o,Y,Dt.isPost({uri:Rt})),Object(jt["a"])(o,X,Pt.isPost({uri:Rt})),Object(jt["a"])(o,W,Dt.isPost({uri:Ft})),Object(jt["a"])(o,H,Pt.isPost({uri:Ft})),Object(jt["a"])(o,V,Pt.isPost({uri:Lt})),Object(jt["a"])(o,Z,Pt.isPost({uri:Nt})),o)},Gt={0:"IDLE",1:"WAITING",2:"COMPLETE",3:"ERROR"},Mt={status:"",data:null},Ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{status:Gt[t],data:e}},Jt=function(t,e){return"".concat(t,"_").concat(e)},qt={namespaced:"true",state:{items:{}},mutations:Object(jt["a"])({},It,(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.method,a=void 0===n?"GET":n,s=e.uri,o=void 0===s?"":s,r=e.status,i=void 0===r?0:r,c=e.data,u=void 0===c?null:c;t.items=Object(G["a"])({},t.items,Object(jt["a"])({},Jt(a,o),Ut(i,u)))})),getters:(r={},Object(jt["a"])(r,Ct,(function(t){return function(e,n){return(t.items[Jt(e,n)]||Mt).status}})),Object(jt["a"])(r,Et,(function(t){return function(e,n){return(t.items[Jt(e,n)]||Mt).data}})),r)},$t=(n("7db0"),n("c740"),n("13d5"),n("a434"),"SET_STOCK_LIST"),Bt="UPDATE_STOCK_LIST",zt="SET_SELECTED_STOCK_ID",Qt="FETCH_STOCKS",Wt="FETCH_STOCK_SELECETED_STOCK",Ht="POST_STOCK",Yt="POST_STOCK_ITEM",Xt="DELETE_STOCK",Vt="SELECTED_STOCK",Zt="FOOD_KINDS_IN_SELECTED_STOCK",te="STATUS_OF_POST_STOCK",ee=n("15fd"),ne="SET_SELECTED_STOCK_ITEM_FOOD_KIND_ID",ae="POST_STOCK_ITEM_STATE",se="SELECTED_STOCK_ITEM",oe="SELECTED_STOCK_ITEM_UOM_NAME",re="SELECTED_STOCK_ITEM_TOTAL_QUANTITY",ie="SELECTED_STOCK_ITEM_TOTAL_SERVINGS",ce="STATUS_OF_POST_STOCK_ITEM_STATE",ue={id:"",date_created:"",date_updated:"",food_item_id:"",quantity:0,packaging_kind:{id:"",name:""},packaging_state:{id:"",name:""}},de={namespaced:!0,state:{foodKindId:""},mutations:Object(jt["a"])({},ne,(function(t,e){t.foodKindId=e})),actions:Object(jt["a"])({},ae,(function(t,e){var n=t.dispatch,a=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="/food_item_state/",o=Tt(s).cachePost(a),t.prev=2,o.setStatus(1),t.next=6,Ve.post(s,e);case 6:o.setStatus(2),n("stock/".concat(Wt),null,{root:!0}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),o.setStatus(3);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()})),getters:(i={},Object(jt["a"])(i,se,(function(t,e,n,a){var s={food_kind:{},food_kind_id:"",items:[]},o=a["stock/SELECTED_STOCK"].items.reduce((function(e,n){if(n.food_kind_id===t.foodKindId){var a=n.current_state,s=Object(ee["a"])(n,["current_state"]);e.push(Object(G["a"])({},s,{food_kind_uniform_name:s.food_kind.uniform_name,current_state:a||ue}))}return e}),[]).sort((function(t,e){return t.expiration_date>e.expiration_date?1:-1}));return o.length&&(s.items=o,s.food_kind=o[0].food_kind,s.food_kind_id=o[0].food_kind_id),s})),Object(jt["a"])(i,oe,(function(t,e){var n="",a=e[se];return a.food_kind_id&&(n=a.food_kind.unit_of_measurement.name,n="Self"===n?a.food_kind.name:n),n})),Object(jt["a"])(i,re,(function(t,e){var n=0,a=e[se];return a.food_kind_id&&(n=a.items.reduce((function(t,e){return t+e.current_state.quantity}),0)),n})),Object(jt["a"])(i,ie,(function(t,e){var n=0,a=e[se];return a.food_kind_id&&(n=e[re]/a.food_kind.serving_size),Math.round(100*n)/100})),Object(jt["a"])(i,ce,Pt.isPost({uri:"/food_item_state/"})),i)},le=Tt("/stock/"),me={namespaced:!0,modules:{stockItem:de},state:{list:[],selectedStockId:null},mutations:(c={},Object(jt["a"])(c,$t,(function(t,e){t.list=e})),Object(jt["a"])(c,Bt,(function(t,e){var n=t.list.findIndex((function(t){return t.id===e.id}));t.list.splice(n,1,e)})),Object(jt["a"])(c,zt,(function(t,e){t.selectedStockId=e})),c),actions:(u={},Object(jt["a"])(u,Qt,(function(t){var e=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=le.cacheGet(e),t.prev=1,n.setStatus(1),t.next=5,Ve.get("/stock/");case 5:a=t.sent,e($t,a.data),n.setStatus(2),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),n.setStatus(3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(jt["a"])(u,Wt,(function(t){t.dispatch;var e=t.state,n=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Tt("/stock/".concat(e.selectedStockId)).cacheGet(n),t.prev=1,a.setStatus(1),t.next=5,Ve.get("/stock/".concat(e.selectedStockId));case 5:s=t.sent,a.setStatus(2),n(Bt,s.data),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log("EORORORRR",t.t0),a.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(jt["a"])(u,Ht,(function(t,e){var n=t.dispatch,a=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=le.cachePost(a),t.prev=1,s.setStatus(1),t.next=5,Ve.post("/stock/",{name:e});case 5:return s.setStatus(2),t.next=8,n(Qt);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),s.setStatus(3);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(jt["a"])(u,Yt,(function(t,e){var n=t.commit,a=t.dispatch,s=t.state,o=e.food_kind_id,r=e.expiration_date,i=e.date_item_was_new;return Object(A["a"])(regeneratorRuntime.mark((function t(){var e,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/stock/item/".concat(s.selectedStockId),c=Tt(e).cachePost(n),t.prev=2,c.setStatus(1),t.next=6,Ve.post(e,{food_kind_id:o,expiration_date:r,date_item_was_new:i});case 6:return c.setStatus(2),t.next=9,a(Wt);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),c.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),Object(jt["a"])(u,Xt,(function(t,e){var n=t.dispatch,a=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="/stock/".concat(e),o=Tt(s).cacheDelete(a),t.prev=2,o.setStatus(1),t.next=6,Ve.delete(s);case 6:return o.setStatus(2),t.next=9,n(Qt);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),o.setStatus(3),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),u),getters:(d={},Object(jt["a"])(d,Vt,(function(t){var e={id:"",date_created:"",date_updated:"",items:[],name:"",uniform_name:"",user_id:""},n=t.list.find((function(e){return e.id===t.selectedStockId}));return n||e})),Object(jt["a"])(d,Zt,(function(t,e){return e[Vt].items.reduce((function(t,e,n,a){return Object(G["a"])({},t,Object(jt["a"])({},e.food_kind_id,Object(G["a"])({},e.food_kind,{items:a.reduce((function(t,n){return n.food_kind_id===e.food_kind_id&&t.push({expiration_date:n.expiration_date,date_item_was_new:n.date_item_was_new}),t}),[]).sort((function(t,e){return t.expiration_date>e.expiration_date?1:-1}))})))}),{})})),Object(jt["a"])(d,te,Pt.isPost({uri:"/stock/"})),d)},fe="SET_FOOD_CATEGORY_LIST",pe="SET_SELECTED_FOOD_CATEGORY_ID",_e="FETCH_FOOD_CATEGORY_LIST",he="POST_FOOD_CATEGORY",be="UPDATE_FOOD_CATEGORY",ve="DELETE_FOOD_CATEGORY",ge="SELECTED_FOOD_CATEGORY",Se={namespaced:!0,state:{list:[],selectedFoodCategoryId:null},mutations:(l={},Object(jt["a"])(l,fe,(function(t,e){t.list=e})),Object(jt["a"])(l,pe,(function(t,e){t.selectedFoodCategoryId=e})),l),actions:(m={},Object(jt["a"])(m,_e,(function(t){var e=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ve.get("/categories/food/category");case 3:n=t.sent,e(fe,n.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()})),Object(jt["a"])(m,he,(function(t,e){var n=t.dispatch;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ve.post("/categories/food/category",{name:e});case 3:return t.next=5,n(_e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()})),Object(jt["a"])(m,be,(function(t,e){var n=t.dispatch,a=e.id,s=e.name;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ve.put("/categories/food/category/".concat(a),{name:s});case 3:return t.next=5,n(_e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()})),Object(jt["a"])(m,ve,(function(t,e){var n=t.dispatch;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ve.delete("/categories/food/category/".concat(e));case 3:return t.next=5,n(_e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()})),m),getters:Object(jt["a"])({},ge,(function(t){var e={id:"",name:"",uniform_name:""},n=t.list.find((function(e){return e.id===t.selectedFoodCategoryId}));return n||e}))},ke="SET_FOOD_KIND_LIST",Oe="UPDATE_FOOD_KIND_LIST",je="SET_SELECTED_FOOD_KIND_ID",xe="FETCH_FOOD_KIND_LIST",we="FETCH_FOOD_KIND_BY_ID",Ie="POST_FOOD_KIND",Ce="UPDATE_FOOD_KIND",Ee="DELETE_FOOD_KIND",ye="SELECTED_FOOD_KIND",Te="GET_FOOD_KIND_BY_ID",Ke="GET_SELECTED_FOOD_KIND_UOM",Pe="STATUS_OF_POST_FOOD_KIND",De="DATA_FROM_DELETE_FOOD_KIND",Fe="FETCH_UNIT_OF_MEASURE_LIST",Re="SET_UNIT_OF_MEASURE_LIST",Le={namespaced:!0,state:{list:[]},mutations:Object(jt["a"])({},Re,(function(t,e){t.list=e})),actions:Object(jt["a"])({},Fe,(function(t){var e=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/unit_of_measure/",a=Tt(n).cacheGet(e),t.prev=2,a.setStatus(1),t.next=6,Ve.get(n);case 6:s=t.sent,e(Re,s.data),a.setStatus(2),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),a.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()}))},Ne="/categories/food/kind",Ae={namespaced:!0,modules:{unitOfMeasure:Le},state:{list:[],selectedFoodKindId:null},mutations:(f={},Object(jt["a"])(f,ke,(function(t,e){t.list=e})),Object(jt["a"])(f,Oe,(function(t,e){var n=t.list.findIndex((function(t){return t.id===e.id}));t.list.splice(n,1,e)})),Object(jt["a"])(f,je,(function(t,e){t.selectedFoodKindId=e})),f),actions:(p={},Object(jt["a"])(p,xe,(function(t){var e=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Tt(Ne).cacheGet(e),t.prev=1,n.setStatus(1),t.next=5,Ve.get(Ne);case 5:a=t.sent,n.setStatus(2),e(ke,a.data),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n.setStatus(3);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(jt["a"])(p,we,(function(t,e){var n=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var a,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="".concat(Ne,"/").concat(e),s=Tt(a).cacheGet(n),t.prev=2,s.setStatus(1),t.next=6,Ve.get(a);case 6:o=t.sent,s.setStatus(2),n(Oe,o.data),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),s.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),Object(jt["a"])(p,Ie,(function(t,e){var n=t.dispatch,a=t.commit,s=e.name;return Object(A["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Tt(Ne).cachePost(a),t.prev=1,e.setStatus(1),t.next=5,Ve.post(Ne,{name:s});case 5:return e.setStatus(2),t.next=8,n(xe);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.setStatus(3);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()})),Object(jt["a"])(p,Ce,(function(t,e){var n=t.dispatch,a=t.commit,s=e.id,o=e.name,r=e.unit_of_measurement_id,i=e.serving_size;return Object(A["a"])(regeneratorRuntime.mark((function t(){var e,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(Ne,"/").concat(s),c=Tt(e).cachePut(a),t.prev=2,c.setStatus(1),t.next=6,Ve.put(e,{name:o,unit_of_measurement_id:r,serving_size:i});case 6:return c.setStatus(2),t.next=9,n(we,s);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),c.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),Object(jt["a"])(p,Ee,(function(t,e){var n=t.dispatch,a=t.commit,s=e.id,o=e.force;return Object(A["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(Ne,"/").concat(s).concat(o?"?force=true":""),r=Tt(e).cacheDelete(a),t.prev=2,r.setStatus(1),t.next=6,Ve.delete(e);case 6:return t.sent,r.setStatus(2),t.next=10,n(xe);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),t.t0 instanceof Be?r.setStatus(3,t.t0.data.pub_msg):r.setStatus(3);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()})),p),getters:(_={},Object(jt["a"])(_,ye,(function(t){var e={id:"",user_id:"",name:"",uniform_name:"",unit_of_measurement:{},serving_size:0,nutrition_info:{},categories:[]},n=t.list.find((function(e){return e.id===t.selectedFoodKindId}));return n||e})),Object(jt["a"])(_,Ke,(function(t,e){return e[ye].unit_of_measurement})),Object(jt["a"])(_,Te,(function(t){return function(e){return t.list.find((function(t){return t.id===e}))}})),Object(jt["a"])(_,Pe,Pt.isPost({uri:Ne})),Object(jt["a"])(_,De,Dt.isDelete()),_)},Ge="FETCH_PACKAGING_KIND_LIST",Me="FETCH_PACKAGING_STATE_LIST",Ue="SET_PACKAGING_KIND_LIST",Je="SET_PACKAGING_STATE_LIST",qe={namespaced:!0,state:{stateList:[],kindList:[]},mutations:(h={},Object(jt["a"])(h,Je,(function(t,e){t.stateList=e})),Object(jt["a"])(h,Ue,(function(t,e){t.kindList=e})),h),actions:(b={},Object(jt["a"])(b,Me,(function(t){var e=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/categories/packaging/state",a=Tt(n).cacheGet(e),t.prev=2,a.setStatus(1),t.next=6,Ve.get(n);case 6:s=t.sent,e(Je,s.data),a.setStatus(2),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),console.log(t.t0),a.setStatus(3);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),Object(jt["a"])(b,Ge,(function(t){var e=t.commit;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/categories/packaging/kind",a=Tt(n).cacheGet(e),t.prev=2,a.setStatus(1),t.next=6,Ve.get(n);case 6:s=t.sent,e(Ue,s.data),a.setStatus(2),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),a.setStatus(3);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()})),b)};v["a"].use(M["a"]);var $e=new M["a"].Store({modules:{foodCategory:Se,foodKind:Ae,packaging:qe,reqState:qt,session:At,stock:me}}),Be=function(t){function e(t,n){var a,s;Object(vt["a"])(this,e);for(var o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];return s=Object(gt["a"])(this,(a=Object(St["a"])(e)).call.apply(a,[this].concat(r))),s.name="ApiError",s.data=t,s.status=n,s}return Object(kt["a"])(e,t),e}(Object(Ot["a"])(Error));function ze(t){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(A["a"])(regeneratorRuntime.mark((function t(e){var n,a,s,o,r,i,c,u,d,l,m,f,p=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},a=n.method,s=void 0===a?"GET":a,o=n.body,r=void 0===o?null:o,i=n.headers,c=void 0===i?{}:i,t.prev=1,u="/api/v1".concat(e),d={method:s,headers:Object(G["a"])({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat($e.state.session.access_token)},c)},["POST","PUT"].includes(s)&&(d.body=JSON.stringify(r)),t.next=7,fetch(u,d);case 7:if(l=t.sent,!(l.status>=400)){t.next=13;break}return t.next=11,l.json();case 11:throw m=t.sent,new Be(m,l.status);case 13:return t.next=15,l.json();case 15:return f=t.sent,t.abrupt("return",f);case 19:throw t.prev=19,t.t0=t["catch"](1),t.t0;case 22:case"end":return t.stop()}}),t,null,[[1,19]])}))),Qe.apply(this,arguments)}function We(t,e){return ze(t,{headers:e})}function He(t,e,n){return ze(t,{method:"POST",body:e,headers:n})}function Ye(t,e,n){return ze(t,{method:"PUT",body:e,headers:n})}function Xe(t,e){return ze(t,{method:"DELETE",headers:e})}var Ve={get:We,post:He,put:Ye,delete:Xe},Ze={data:function(){return{email:""}},methods:{onSendLink:function(){Ve.post("/account/send-reset-link",{email:this.email}).then((function(t){alert("Success!")})).catch((function(t){alert("Fail!")}))}}},tn=Ze,en=Object(k["a"])(tn,ht,bt,!1,null,null,null),nn=en.exports,an=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"col mobile-10 tablet-6 desktop-4",staticStyle:{"max-width":"400px","min-width":"300px"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onResetPassword(e)}}},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",[n("h3",[t._v("Reset your password")]),n("p",[t._v(" Enter your new password for your account registered to "+t._s(t.registeredEmail)+". ")]),n("JInput",{attrs:{placeholder:"Enter password",type:"password"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),n("j-card-actions",{staticClass:"d-flex flex-column align-center"},[n("j-btn",{staticClass:"outlined mb-4",staticStyle:{"align-self":"stretch"},attrs:{type:"submit"}},[t._v("Reset password")]),n("j-btn",{staticClass:"text text--underlined",attrs:{to:{name:"login"}}},[t._v("Go to login")])],1)],1)],1)])])},sn=[],on="INIT",rn={data:function(){return{newPassword:"",registeredEmail:"",resetPwStatus:on}},mounted:function(){var t=wt.a.decode(this.$route.params.nonce);t&&t.user_claims&&(this.registeredEmail=t.user_claims.email)},methods:{statusIs:function(t){return this.reqStatus===t},onResetPassword:function(){return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})))()}}},cn=rn,un=Object(k["a"])(cn,an,sn,!1,null,null,null),dn=un.exports,ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row ma-0 justify-center align-center app-bar"},[n("div",{staticClass:"col pa-0 tablet-12 desktop-10"},[n("div",{staticClass:"d-flex justify-between align-center"},[n("div",[n("TheBreadcrumbs",{staticClass:"my-0"})],1),n("div",[n("j-btn",{staticClass:"text small outlined-hover",on:{click:function(e){return t.$store.dispatch("session/LOGOUT")}}},[t._v("logout")])],1)])])]),n("main",{staticClass:"main-content"},[n("router-view")],1)])},mn=[],fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"breadcrumbs"},[t._l(t.breadcrumbs,(function(e,a){return[n("li",{key:e.to},[e.to?[n("router-link",{attrs:{to:{name:e.to}}},[t._v(t._s(e.text))]),a<t.breadcrumbs.length?n("span",{staticClass:"seperator"},[t._v("-")]):t._e()]:[n("span",{staticClass:"text-weight--bold"},[t._v(t._s(e.text))])]],2)]}))],2)},pn=[],_n=(n("d81d"),{computed:{breadcrumbs:function(){var t=this;return(this.$route.meta.breadcrumbs||[]).map((function(e){return{to:e.to,text:"function"===typeof e.text?e.text(t.$store.getters):e.text}}))}}}),hn=_n,bn=(n("e479"),Object(k["a"])(hn,fn,pn,!1,null,null,null)),vn=bn.exports,gn={components:{TheBreadcrumbs:vn},methods:Object(G["a"])({},Object(M["b"])("stock",{fetchStocks:Qt}),{},Object(M["b"])("foodCategory",{fetchFoodCategoryList:_e}),{},Object(M["b"])("foodKind",{fetchFoodKindList:xe}),{},Object(M["b"])("foodKind/unitOfMeasure",{fetchUnitOfMeasureList:Fe}),{},Object(M["b"])("packaging",{fetchPackagingKindList:Ge,fetchPackagingStateList:Me})),mounted:function(){this.fetchStocks(),this.fetchFoodCategoryList(),this.fetchFoodKindList(),this.fetchPackagingKindList(),this.fetchPackagingStateList(),this.fetchUnitOfMeasureList()}},Sn=gn,kn=(n("bec0"),Object(k["a"])(Sn,ln,mn,!1,null,"4fdbb767",null)),On=kn.exports,jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("j-dialog",{model:{value:t.showDeleteFoodKindError,callback:function(e){t.showDeleteFoodKindError=e},expression:"showDeleteFoodKindError"}},[n("j-card",[n("j-card-text",[t._v(" "+t._s(t.deleteFoodKindErrorMsg)+" ")]),n("j-card-actions",{staticClass:"text-right"},[n("button",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"btn outlined mx-2",on:{click:t.onCancelForceDeleteFoodKind}},[t._v("Cancel")]),n("button",{staticClass:"btn danger",on:{click:function(e){return t.onDeleteFoodKind(t.forceDeleteFoodKindId,!0)}}},[t._v("Confirm")])])],1)],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col mobile-12 tablet-6"},[n("j-card",{attrs:{outlined:""}},[n("j-card-title",{staticClass:"pa-0"},[t._v("Stock List")]),n("j-card-text",{staticClass:"pa-0"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmitStock(e)}}},[n("div",{staticClass:"d-flex align-end"},[n("JInput",{attrs:{label:"Create new stock"},model:{value:t.stock,callback:function(e){t.stock="string"===typeof e?e.trim():e},expression:"stock"}}),n("j-btn",{staticClass:"small outlined align-end ml-2",attrs:{type:"submit",disabled:!t.stock}},[t._v("Submit")])],1)]),n("j-alert",{model:{value:t.showSubmitStockError,callback:function(e){t.showSubmitStockError=e},expression:"showSubmitStockError"}},[t._v(" There was an error while creating the stock. Please try again and make sure to use a unique name. ")]),n("j-list",{staticClass:"mt-2",attrs:{searchLabel:"Search stocks",items:t.stockList,indexKey:"name",searchKeys:["name"]},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[n("j-btn",{staticClass:"fullwidth text clr-link outlined-hover text-left",attrs:{title:"Go to page for stock: "+a.name,to:{name:"stock",params:{stock_id:a.id}}}},[t._v(" "+t._s(a.name)+" ")]),n("j-btn",{staticClass:"square text clr-danger outlined-hover",attrs:{title:"Delete stock: "+a.name},on:{click:function(e){return t.onDeleteStock(a.id)}}},[t._v(" X ")])]}}])})],1)],1)],1),n("div",{staticClass:"col mobile-12 tablet-6"},[n("j-card",{attrs:{outlined:""}},[n("j-card-title",{staticClass:"pa-0"},[t._v("Food Kinds")]),n("j-card-text",{staticClass:"pa-0"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmitFoodKind(e)}}},[n("div",{staticClass:"d-flex"},[n("JInput",{attrs:{label:"Create new food kind"},model:{value:t.foodKind,callback:function(e){t.foodKind="string"===typeof e?e.trim():e},expression:"foodKind"}}),n("j-btn",{staticClass:"small outlined ml-2",staticStyle:{"align-self":"end"},attrs:{disabled:!t.foodKind}},[t._v("Submit")])],1)]),n("j-alert",{model:{value:t.showSubmitFoodKindError,callback:function(e){t.showSubmitFoodKindError=e},expression:"showSubmitFoodKindError"}},[t._v(" There was an error while creating the food kind. Please try again and make sure to use a unique name. ")]),n("j-list",{staticClass:"mt-2",attrs:{searchLabel:"Search food kinds",items:t.foodKindList,indexKey:"name",searchKeys:["name"]},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[n("j-btn",{staticClass:"fullwidth text clr-link outlined-hover text-left text--underlined",attrs:{title:"Go to page for food kind: "+a.name,to:{name:"food-kind",params:{food_kind_id:a.id}}}},[t._v(" "+t._s(a.name)+" ")]),n("j-btn",{staticClass:"square text clr-danger outlined-hover",attrs:{title:"Delete food kind: "+a.name},on:{click:function(e){return t.onDeleteFoodKind(a.id)}}},[t._v(" X ")])]}}])})],1)],1)],1)])],1)},xn=[],wn=(n("498a"),{name:"Home",data:function(){return{stock:"",foodCategory:"",foodKind:"",packagingKind:"",showSubmitStockError:!1,showSubmitFoodKindError:!1,showDeleteFoodKindError:!1,forceDeleteFoodKindId:"",deleteFoodKindErrorMsg:""}},watch:{statusOfPostStock:function(t){this.showSubmitStockError="ERROR"===t},statusOfPostFoodKind:function(t){this.showSubmitFoodKindError="ERROR"===t}},computed:Object(G["a"])({},Object(M["c"])("stock",{statusOfPostStock:te}),{},Object(M["c"])("foodKind",{statusOfPostFoodKind:Pe,getDataFromDeleteFoodKind:De}),{},Object(M["e"])("stock",{stockList:function(t){return t.list}}),{},Object(M["e"])("foodCategory",{foodCategoryList:function(t){return t.list}}),{},Object(M["e"])("foodKind",{foodKindList:function(t){return t.list}})),methods:Object(G["a"])({confirmDelete:function(t,e){return confirm('Are you sure you want to delete the "'.concat(t,'" ').concat(e))}},Object(M["b"])("stock",{postStock:Ht,deleteStock:Xt}),{onSubmitStock:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.stock.trim(),!n){e.next=5;break}return e.next=4,t.postStock(n);case 4:"ERROR"!==t.statusOfPostStock&&(t.stock="");case 5:case"end":return e.stop()}}),e)})))()},onDeleteStock:function(t){var e=this.stockList.find((function(e){return e.id===t}));this.confirmDelete(e.name,"stock")&&this.deleteStock(t)}},Object(M["b"])("foodCategory",{postFoodCategory:he,deleteFoodCategory:ve}),{onSubmitFoodCategory:function(){var t=this.foodCategory.trim();t&&(this.postFoodCategory(t),this.foodCategory="")},onDeleteFoodCategory:function(t){var e=this.foodCategoryList.find((function(e){return e.id===t}));this.confirmDelete(e.name,"Food Category")&&this.deleteFoodCategory(t)}},Object(M["b"])("foodKind",{postFoodKind:Ie,deleteFoodKind:Ee}),{onSubmitFoodKind:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.foodKind.trim(),!n){e.next=5;break}return e.next=4,t.postFoodKind({name:n});case 4:"ERROR"!==t.statusOfPostFoodKind&&(t.foodKind="");case 5:case"end":return e.stop()}}),e)})))()},onDeleteFoodKind:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(A["a"])(regeneratorRuntime.mark((function a(){var s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e.foodKindList.find((function(e){return e.id===t})),e.onCancelForceDeleteFoodKind(),!n){a.next=7;break}return a.next=5,e.deleteFoodKind({id:t,force:n});case 5:a.next=10;break;case 7:if(!e.confirmDelete(s.name,"Food Kind")){a.next=10;break}return a.next=10,e.deleteFoodKind({id:t});case 10:o=e.getDataFromDeleteFoodKind("/categories/food/kind/".concat(t)),o&&(e.showDeleteFoodKindError=!0,e.deleteFoodKindErrorMsg=o,e.forceDeleteFoodKindId=t);case 12:case"end":return a.stop()}}),a)})))()},onCancelForceDeleteFoodKind:function(){this.$store.commit("reqState/SET_REQ_STATE_ITEM",{method:"DELETE",uri:"/categories/food/kind/".concat(this.forceDeleteFoodKindId),data:null}),this.showDeleteFoodKindError=!1,this.deleteFoodKindErrorMsg="",this.forceDeleteFoodKindId=""}})}),In=wn,Cn=(n("a23d"),Object(k["a"])(In,jn,xn,!1,null,null,null)),En=Cn.exports,yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},Tn=[],Kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0"},[n("div",{staticClass:"d-flex align-center justify-between"},[n("h3",[t._v("Items")]),n("div",[n("button",{attrs:{title:t.addItemButtonState.title},on:{click:t.addItemButtonState.onClick}},[t._v(" "+t._s(t.addItemButtonState.text)+" ")])])]),t.showNewStockItemItemForm?n("j-card",{staticStyle:{background:"#fed"},attrs:{flat:""}},[n("j-card-text",{staticClass:"px-0 pt-0 text-weight--bold"},[t._v(" Add a new item ")]),n("j-card-text",{staticClass:"pa-0"},[n("StockItemForm",t._b({attrs:{foodKindOptions:t.foodKindOptions},on:{submit:function(e){return e.preventDefault(),t.onSubmitNewStockItem(e)}}},"StockItemForm",t.newStockItem,!1,!0))],1)],1):t._e(),n("ul",{staticStyle:{"list-style":"none",padding:"0"}},t._l(t.foodKindsInSelectedStock,(function(e,a){return n("li",{key:a,staticStyle:{margin:".5rem 0"}},[n("router-link",{staticClass:"text-underlined",attrs:{to:{name:"stock-item",params:{item_id:e.id}}}},[t._v(" "+t._s(e.name)+" ")]),n("ul",{staticClass:"food-kind__item-dates-list"},t._l(e.items,(function(e,a){return n("li",{key:a+e.expiration_date},[n("small",[t._v("new: "+t._s(e.date_item_was_new))]),t._v(" "),n("small",[t._v("exp: "+t._s(e.expiration_date))])])})),0)],1)})),0)],1)],1)},Pn=[],Dn=function(t,e){var n=e._c;return n("form",e._g(e._b({},"form",e.data.attrs,!1),e.listeners),[n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col"},[e.props.overrideFoodKind?[n("h3",[e._v("Add more")])]:[n("JSelect",{attrs:{smallLabel:"",label:"What kind of food item is this?",options:e.props.foodKindOptions,value:e.props.foodKindId},on:{input:function(t){return e.listeners["update:foodKindId"](t)}}})]],2)]),n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col"},[n("JInput",{attrs:{smallLabel:"",label:"When was this item new?",type:"date",value:e.props.dateItemWasNew},on:{input:function(t){return e.listeners["update:dateItemWasNew"](t)}}})],1),n("div",{staticClass:"col"},[n("JInput",{attrs:{smallLabel:"",label:"When will this item expire?",type:"date",value:e.props.expirationDate},on:{input:function(t){return e.listeners["update:expirationDate"](t)}}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col d-flex justify-end"},[n("j-btn",{staticClass:"outlined",attrs:{type:"submit"}},[e._v("Submit")])],1)])])},Fn=[],Rn=(n("a623"),{props:{overrideFoodKind:String,foodKindOptions:{type:Array,default:function(){return[]},validator:function(t){return t.every((function(t){return t.text&&t.value}))}},foodKindId:String,dateItemWasNew:String,expirationDate:String}}),Ln=Rn,Nn=Object(k["a"])(Ln,Dn,Fn,!0,null,null,null),An=Nn.exports,Gn={props:{items:Array},components:{StockItemForm:An},data:function(){return{showNewStockItemItemForm:!1,newStockItem:{foodKindId:"",expirationDate:"",dateItemWasNew:""}}},computed:Object(G["a"])({},Object(M["c"])("stock",{}),{},Object(M["e"])("foodKind",{foodKindOptions:function(t){return t.list.map((function(t){return{text:t.name,value:t.id}}))}}),{},Object(M["c"])("foodKind",{getFoodKindById:Te}),{addItemButtonState:function(){return{onClick:this.toggleAddItemsForm,text:this.showNewStockItemItemForm?"-":"+",title:this.showNewStockItemItemForm?"Clear and close form":"Open form to add an item to this stock"}}}),methods:Object(G["a"])({},Object(M["b"])("stock",{postStockItem:Yt}),{resetNewStockItemState:function(){this.$set(this,"newStockItem",{foodKindId:"",expirationDate:"",dateItemWasNew:""})},toggleAddItemsForm:function(){this.showNewStockItemItemForm=!this.showNewStockItemItemForm,this.showNewStockItemItemForm||this.resetNewStockItemState()},onSubmitNewStockItem:function(){var t=this.newStockItem,e=t.foodKindId,n=t.dateItemWasNew,a=t.expirationDate;e&&n&&a?(this.postStockItem({food_kind_id:e,date_item_was_new:n,expiration_date:a}),this.resetNewStockItemState()):alert("Oops! make sure you have filled out all fields")}})},Mn=Gn,Un=(n("93f1"),Object(k["a"])(Mn,Kn,Pn,!1,null,"a2bf6f80",null)),Jn=Un.exports,qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0"},[n("div",{staticClass:"d-flex align-center justify-between"},[n("h3",[t._v("Snapshots")]),n("div",[n("button",{attrs:{title:"Take a snapshot of the current state of the items in this stock."}},[t._v("+")])])]),n("ul")])],1)},$n=[],Bn={},zn=Object(k["a"])(Bn,qn,$n,!1,null,null,null),Qn=zn.exports,Wn={computed:Object(G["a"])({},Object(M["e"])("stock",{stockHasLoaded:function(t){return function(e){return t.list.find((function(t){return t.id===e}))}}})),methods:Object(G["a"])({},Object(M["d"])("stock",{setSelectedStockId:zt}),{},Object(M["b"])("stock",{fetchSelectedStock:Wt})),beforeRouteEnter:function(t,e,n){n((function(e){e.setSelectedStockId(t.params.stock_id),e.stockHasLoaded(t.params.stock_id)&&e.fetchSelectedStock()}))},beforeRouteLeave:function(t,e,n){this.setSelectedStockId(null),n()}},Hn=Wn,Yn=Object(k["a"])(Hn,yn,Tn,!1,null,null,null),Xn=Yn.exports,Vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col mobile-12 tablet-4"},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0"},[n("h2",{staticClass:"my-0"},[t._v(t._s(t.stock.name))])]),n("j-card-text",{staticClass:"pa-0"},[t._v(" ... more ")])],1)],1),n("div",{staticClass:"col mobile-12 tablet-8"},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0 d-flex justify-between"},[n("h4",{staticClass:"my-2"},[t._v("Stock Items:")]),n("j-btn",{staticClass:"x-small outlined",staticStyle:{"align-self":"center"},on:{click:function(e){t.showNewItemForm=!t.showNewItemForm}}},[t._v(" "+t._s(t.showNewItemForm?"cancel":"+ add")+" ")])],1),n("transition",{attrs:{name:"dropdown-fade"}},[t.showNewItemForm?n("j-card-text",[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{},[n("StockItemForm",t._b({attrs:{foodKindOptions:t.foodKindOptions},on:{submit:function(e){return e.preventDefault(),t.onSubmitNewStockItem(e)}}},"StockItemForm",t.newStockItem,!1,!0))],1)],1)],1):t._e()],1),n("j-card-text",{staticClass:"px-0"},[n("j-list",{attrs:{striped:!1,items:t.stockFoodKinds,searchPlaceholder:"Search stock items",liClass:"mb-2",indexKey:"uniform_name",searchKeys:["name"]},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[n("j-btn",{staticClass:"outlined fullwidth text-left",attrs:{to:{name:"stock-item",params:{item_id:a.id}}}},[n("span",{staticClass:"text--underlined"},[t._v(t._s(a.name))]),n("ul",{staticStyle:{"list-style":"none",padding:"0"}},t._l(a.items,(function(e,a){return n("li",{key:a},[n("small",[t._v("new: "+t._s(e.date_item_was_new))]),t._v(" "),n("small",[t._v("exp: "+t._s(e.expiration_date))])])})),0)])]}}])})],1)],1)],1)])},Zn=[],ta=(n("07ac"),{components:{StockItems:Jn,StockSnapshots:Qn,StockItemForm:An},data:function(){return{showNewItemForm:!1,newStockItem:{foodKindId:"",dateItemWasNew:"",expirationDate:""}}},computed:Object(G["a"])({},Object(M["c"])("stock",{stock:Vt,foodKindsInSelectedStock:Zt}),{},Object(M["e"])("foodKind",{foodKindOptions:function(t){return t.list.map((function(t){return{text:t.name,value:t.id}}))}}),{stockFoodKinds:function(){return Object.values(this.foodKindsInSelectedStock)},dateCreated:function(){return new Date(this.stock.date_created).toDateString()},dateUpdated:function(){return this.stock.date_updated?new Date(this.stock.date_updated).toDateString():"N/A"}}),methods:Object(G["a"])({},Object(M["d"])("stock",{setSelectedStockId:zt}),{},Object(M["b"])("stock",{postStockItem:Yt}),{onSubmitNewStockItem:function(){var t=this.newStockItem,e=t.foodKindId,n=t.dateItemWasNew,a=t.expirationDate;e&&n&&a?(this.postStockItem({food_kind_id:e,date_item_was_new:n,expiration_date:a}),this.$set(this,"newStockItem",{foodKindId:"",dateItemWasNew:"",expirationDate:""}),this.showNewItemForm=!1):alert("Oops! Make sure you have filled out all fields")}})}),ea=ta,na=(n("a621"),Object(k["a"])(ea,Vn,Zn,!1,null,"701976a7",null)),aa=na.exports,sa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col mobile-12 tablet-4 food-kind__side-panel",staticStyle:{"align-self":"start"}},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0 d-flex align-center justify-between"},[n("h2",{staticClass:"my-0"},[t._v(t._s(t.stockItem.food_kind.name))]),n("div",[n("j-btn",{staticClass:"x-small link",attrs:{to:t.editLink}},[t._v("edit")])],1)]),n("j-card-text",{staticClass:"pa-0"},[t._v(" Serving size: "+t._s(t.servingSizeText)+" ")])],1)],1),n("div",{staticClass:"col mobile-12 tablet-8"},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0 d-flex align-center justify-between"},[n("h3",{staticClass:"ma-0"},[t._v("...in "+t._s(t.selectedStock.name))]),n("div",[n("j-btn",{staticClass:"x-small outlined",on:{click:function(e){t.showNewItemForm=!t.showNewItemForm}}},[t._v(" "+t._s(t.showNewItemForm?"cancel":"+ add")+" ")])],1)]),n("j-card-text",{staticClass:"px-0"},[n("div",[t._v(" Quantity: "+t._s(t.totalQuantityText)+" ")]),n("div",[t._v(" Servings: "+t._s(t.stockItemTotalServings)+" ")])]),n("j-card-text",{staticClass:"px-0"},[n("transition",{attrs:{name:"dropdown-fade"}},[t.showNewItemForm?n("j-card",{attrs:{outlined:""}},[n("j-card-text",[n("StockItemForm",t._b({attrs:{overrideFoodKind:t.stockItem.food_kind.name},on:{submit:function(e){return e.preventDefault(),t.onSubmitNewStockItem(e)}}},"StockItemForm",t.newStockItem,!1,!0))],1)],1):t._e()],1),n("h4",{staticClass:"ma-0"},[t._v("Items:")]),n("j-list",{attrs:{withSearch:!1,items:t.stockItem.items,liClass:"mb-2",indexKey:"food_kind_uniform_name"},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item;return[n("div",{staticClass:"mb-1"},[n("StockItemState",{attrs:{stockItem:e,state:e.current_state,stockItemId:e.id}})],1)]}}])})],1)],1)],1)])},oa=[],ra=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isEditing?[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",[n("strong",[t._v("Current State")]),n("button",{staticClass:"ml-4",on:{click:function(e){t.isEditing=!1}}},[t._v("× Cancel")]),n("div",[t._v(" Date: "+t._s(t.state.date_created)+" ")]),n("div",[t._v(" Quantity: "+t._s(t.quantityText)+" ")]),n("div",[t._v(" Packaging Kind: "+t._s(t.state.packaging_kind.name)+" ")]),n("div",[t._v(" Packaging State: "+t._s(t.state.packaging_state.name)+" ")])])]),n("div",{staticClass:"col"},[n("h4",{staticClass:"ma-0"},[t._v("New State")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmitStockItemState(e)}}},[n("JInput",{attrs:{label:"Quantity ("+t.uomName+")",type:"number"},model:{value:t.quantity,callback:function(e){t.quantity=t._n(e)},expression:"quantity"}}),n("JSelect",{attrs:{label:"Packaging Kind",options:t.packagingKindOptions},model:{value:t.packagingKindId,callback:function(e){t.packagingKindId=e},expression:"packagingKindId"}}),n("JSelect",{attrs:{label:"Packaging State",options:t.packagingStateOptions},model:{value:t.packagingStateId,callback:function(e){t.packagingStateId=e},expression:"packagingStateId"}}),n("button",{attrs:{type:"submit"}},[t._v("Submit New State")])],1)])])]:[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",[n("strong",[t._v("Current State")]),t._v(" "),n("button",{staticClass:"ml-4",on:{click:function(e){t.isEditing=!0}}},[t._v("✎ Update")])]),t.state.id?[n("div",[t._v(" Date: "+t._s(new Date(t.state.date_created).toLocaleString())+" ")]),n("div",[t._v(" Quantity: "+t._s(t.quantityText)+" ")]),n("div",[t._v(" Packaging Kind: "+t._s(t.state.packaging_kind.name)+" ")]),n("div",[t._v(" Packaging State: "+t._s(t.state.packaging_state.name)+" ")])]:[t._v(" No record yet for this item ")]],2)])]],2)},ia=[],ca={props:{stockItem:Object,state:Object,stockItemId:String},data:function(){return{isEditing:!1,quantity:0,packagingKindId:"",packagingStateId:""}},methods:Object(G["a"])({initFormFields:function(){this.quantity=this.state.quantity,this.packagingKindId=this.state.packaging_kind.id||this.defaultPackagingKindId,this.packagingStateId=this.state.packaging_state.id||this.defaultPackagingStateId},onSubmitStockItemState:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.postStockItemState(t.newStatePayload);case 2:"ERROR"!==t.statusOfPostStockItemState&&(t.isEditing=!1);case 3:case"end":return e.stop()}}),e)})))()}},Object(M["b"])("stock/stockItem",{postStockItemState:ae})),watch:{isEditing:function(t){this.initFormFields()}},computed:Object(G["a"])({newStatePayload:function(){return{stock_item_id:this.stockItemId,packaging_kind_id:this.packagingKindId,packaging_state_id:this.packagingStateId,quantity:this.quantity}}},Object(M["e"])("packaging",{packagingKindOptions:function(t){return t.kindList.map((function(t){return{value:t.id,text:t.name}}))},defaultPackagingKindId:function(t){return(t.kindList.find((function(t){return/n\/a/i.test(t.name)}))||{}).id},packagingStateOptions:function(t){return t.stateList.map((function(t){return{value:t.id,text:t.name}}))},defaultPackagingStateId:function(t){return(t.stateList.find((function(t){return/n\/a/i.test(t.name)}))||{}).id}}),{},Object(M["c"])("stock/stockItem",{statusOfPostStockItemState:ce}),{uomName:function(){var t=this.stockItem.food_kind.unit_of_measurement.name;return t="Self"===t?this.stockItem.food_kind.name:t,t},quantityText:function(){return"".concat(this.state.quantity," ").concat(this.uomName)}})},ua=ca,da=Object(k["a"])(ua,ra,ia,!1,null,null,null),la=da.exports,ma={name:"StockItem",components:{StockItemForm:An,StockItemState:la},data:function(){return{showNewItemForm:!1,newStockItem:{dateItemWasNew:"",expirationDate:""}}},computed:Object(G["a"])({},Object(M["c"])("stock",{selectedStock:Vt}),{},Object(M["c"])("stock/stockItem",{stockItem:se,stockItemUOMName:oe,stockItemTotalQuantity:re,stockItemTotalServings:ie}),{editLink:function(){return{name:"food-kind",params:{food_kind_id:this.stockItem.food_kind.id}}},totalQuantityText:function(){var t=this.stockItemTotalQuantity;return"".concat(t," ").concat(this.stockItemUOMName)},servingSizeText:function(){var t=this.stockItem.food_kind.serving_size;return"".concat(t," ").concat(this.stockItemUOMName)}}),methods:Object(G["a"])({},Object(M["b"])("stock",{postStockItem:Yt}),{},Object(M["d"])("stock/stockItem",{setSelectedStockItemFoodKindId:ne}),{onSubmitNewStockItem:function(){var t=this.newStockItem,e=t.dateItemWasNew,n=t.expirationDate;e&&n?(this.postStockItem({food_kind_id:this.stockItem.food_kind_id,date_item_was_new:e,expiration_date:n}),this.$set(this,"newStockItem",{expirationDate:"",dateItemWasNew:""}),this.showNewItemForm=!1):alert("Oops! Make sure you have filled out all fields")}}),beforeRouteEnter:function(t,e,n){n((function(e){e.setSelectedStockItemFoodKindId(t.params.item_id)}))},beforeRouteLeave:function(t,e,n){this.setSelectedStockItemFoodKindId(null),n()}},fa=ma,pa=Object(k["a"])(fa,sa,oa,!1,null,null,null),_a=pa.exports,ha=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Food Category")]),n("pre",[t._v("    "+t._s(t.foodCategory)+"\n  ")])])},ba=[],va={computed:Object(G["a"])({},Object(M["c"])("foodCategory",{foodCategory:ge})),methods:Object(G["a"])({},Object(M["d"])("foodCategory",{setSelectedFoodCategoryId:pe})),beforeRouteEnter:function(t,e,n){n((function(e){e.setSelectedFoodCategoryId(t.params.food_category_id)}))},beforeRouteLeave:function(t,e,n){this.setSelectedFoodCategoryId(null),n()}},ga=va,Sa=Object(k["a"])(ga,ha,ba,!1,null,null,null),ka=Sa.exports,Oa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col mobile-12 tablet-6 desktop-4"},[n("j-card",{attrs:{outlined:""}},[n("j-card-text",{staticClass:"pa-0"},[n("h2",{staticClass:"my-0"},[t._v(t._s(t.foodKind.name))])]),n("j-card-text",{staticClass:"px-0"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("span",{staticClass:"text-weight--bold"},[t._v("Serving size:")]),t._v(" "+t._s(t.servingSizeText)+" ")])])])],1)],1),n("div",{staticClass:"col mobile-12 tablet-6 desktop-8"},[n("j-card",{attrs:{outlined:""}},[n("j-card-title",{staticClass:"pa-0"},[t._v(" Nutrition Info: ")]),n("j-card-text",{staticClass:"px-0"},[n("FoodKindUOMFormCard",{attrs:{unitOfMeasureName:t.uomName}}),t._v(" ...more ")],1)],1)],1)])},ja=[],xa=function(){var t;return{debounce:function(e,n){t&&clearTimeout(t),t=setTimeout(n,e)}}},wa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("j-card",{staticClass:"pa-0",attrs:{flat:""}},[n("j-card-text",{staticClass:"px-0"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col px-2 tablet-12 desktop-6"},[n("JInput",{attrs:{smallLabel:"",type:"number",step:"0.1",label:"Serving size",value:t.foodKind.serving_size},on:{input:function(e){return t.updateField("serving_size",e)}}})],1),n("div",{staticClass:"col px-2 tablet-12 desktop-6"},[n("JSelect",{attrs:{smallLabel:"",label:"Unit of measure",options:t.unitOfMeasureOptions,value:t.foodKindUOM.id},on:{input:function(e){return t.updateField("unit_of_measurement_id",e)}}})],1)])])],1)},Ia=[],Ca=xa(),Ea={computed:Object(G["a"])({},Object(M["c"])("foodKind",{foodKind:ye,foodKindUOM:Ke}),{},Object(M["e"])("foodKind/unitOfMeasure",{unitOfMeasureOptions:function(t){return(t.list||[]).map((function(t){return{text:t.name,value:t.id}}))}})),methods:Object(G["a"])({},Object(M["b"])("foodKind",{updateFoodKind:Ce}),{updateField:function(t,e){var n=this;switch(t){case"serving_size":e&&e!==this.foodKind.name&&Ca.debounce(500,(function(){n.onUpdateFoodKind(Object(jt["a"])({},t,e))}));break;case"unit_of_measurement_id":e&&e!==this.foodKindUOM.id&&this.onUpdateFoodKind(Object(jt["a"])({},t,e));break}},onUpdateFoodKind:function(t){this.updateFoodKind(Object(G["a"])({id:this.foodKind.id,name:this.foodKind.name,unit_of_measurement_id:this.foodKindUOM.id,serving_size:this.foodKind.serving_size},t))}})},ya=Ea,Ta=Object(k["a"])(ya,wa,Ia,!1,null,null,null),Ka=Ta.exports,Pa={components:{FoodKindUOMFormCard:Ka},computed:Object(G["a"])({},Object(M["c"])("foodKind",{foodKind:ye,foodKindUOM:Ke}),{uomName:function(){var t=this.foodKindUOM.name;return t="Self"===t?this.foodKind.name:t,t},servingSizeText:function(){return"".concat(this.foodKind.serving_size," ").concat(this.uomName)}}),methods:Object(G["a"])({},Object(M["d"])("foodKind",{setSelectedFoodKindId:je})),beforeRouteEnter:function(t,e,n){n((function(e){e.setSelectedFoodKindId(t.params.food_kind_id)}))},beforeRouteLeave:function(t,e,n){this.setSelectedFoodKindId(null),n()}},Da=Pa,Fa=Object(k["a"])(Da,Oa,ja,!1,null,null,null),Ra=Fa.exports;v["a"].use(w["a"]);var La,Na,Aa,Ga,Ma,Ua,Ja,qa,$a,Ba,za,Qa,Wa=[{path:"/",component:On,meta:{requiresAuth:!0},children:[{path:"",name:"home",component:En,meta:{breadcrumbs:[{text:"Dashboard"}]}},{path:"stock/:stock_id",component:Xn,children:[{path:"",name:"stock",component:aa,meta:{breadcrumbs:[{to:"home",text:"Dashboard"},{text:"Stock"}]}},{path:"item/:item_id",name:"stock-item",component:_a,meta:{breadcrumbs:[{to:"home",text:"Dashboard"},{to:"stock",text:"Stock"},{text:"Food Kind"}]}}]},{path:"food-category/:food_category_id",name:"food-category",component:ka,meta:{breadcrumbs:[{to:"home",text:"Dashboard"},{text:"Food Category"}]}},{path:"food-kind/:food_kind_id",name:"food-kind",component:Ra,meta:{breadcrumbs:[{to:"home",text:"Dashboard"},{text:"Food Kind"}]}}]}],Ha=[{path:"/login",component:R,children:[{path:"",name:"login",component:ut},{path:"create-account",name:"create-account",component:_t},{path:"recover",name:"recover",component:nn},{path:"recover/:nonce",name:"recover-nonced",component:dn}]},{path:"*",name:"404-not-found",component:T,meta:{breadcrumbs:[{to:"home",text:"Dashboard"},{text:"404 Not Found"}]}}],Ya=new w["a"]({mode:"history",base:"/",routes:[].concat(Wa,Ha)}),Xa=Ya,Va=(n("72b8"),n("2660"),n("5a41"),function(t,e){var n=e._c;return e.props.value?n("div",{staticClass:"j-dialog",attrs:{role:"dialog"}},[n("div",{staticClass:"j-dialog__content"},[n("button",{staticClass:"btn text icon close-dialog",on:{click:function(t){return e.listeners.input(!1)}}},[e._v("x")]),e._t("default")],2)]):e._e()}),Za=[],ts={props:{value:Boolean}},es=ts,ns=(n("9199"),Object(k["a"])(es,Va,Za,!0,null,null,null)),as=ns.exports,ss=function(t,e){var n=e._c;return n("div",{staticClass:"j-input",class:[e.data.staticClass,e.data.class]},[n("label",{staticClass:"j-input__label",class:{small:e.props.smallLabel}},[e._t("label",[e._v(" "+e._s(e.props.label)+" ")])],2),n("input",e._b({staticClass:"j-input__input",domProps:{value:e.props.value},on:{input:function(t){return e.listeners.input(t.target.value)}}},"input",e.data.attrs,!1))])},os=[],rs=(n("a9e3"),{props:{label:String,smallLabel:Boolean,value:[String,Number],horizontal:Boolean}}),is=rs,cs=(n("1f66"),Object(k["a"])(is,ss,os,!0,null,null,null)),us=cs.exports,ds={functional:!0,props:{to:[Object,String]},render:function(t,e){var n=e.props,a=e.children,s=e.data,o=n.to;Object(ee["a"])(n,["to"]);return o?t("router-link",Object(G["a"])({},s,{props:{to:o},class:Object(G["a"])({"j-btn":!0},s.class)}),a):t("button",Object(G["a"])({},s,{class:Object(G["a"])({"j-btn":!0},s.class)}),a)}},ls=ds,ms=(n("bd47"),Object(k["a"])(ls,La,Na,!1,null,null,null)),fs=ms.exports,ps=n("2909"),_s={functional:!0,props:{label:String,smallLabel:Boolean,value:[String,Number,Object],options:Array,horizontal:Boolean},render:function(t,e){var n=t("label",{class:{"j-input__label":!0,small:e.props.smallLabel}},e.props.label),a=e.props.options.map((function(n){return t("option",{attrs:{value:n.value||n,selected:(n.value||n)===e.props.value}},n.text||n)})),s=t("option",{attrs:{disabled:!0,selected:!0,value:""}},"Please select one"),o=t("select",{class:"j-input__input",attrs:{value:e.props.value},on:{input:function(t){return e.listeners.input(t.target.value)}}},[s].concat(Object(ps["a"])(a)));return t("div",{class:{"j-input":!0,"label-beside":e.props.horizontal}},[n,o])}},hs=_s,bs=Object(k["a"])(hs,Aa,Ga,!1,null,null,null),vs=bs.exports,gs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.withSearch?n("div",{staticClass:"d-flex align-end"},[n("JInput",{attrs:{label:t.searchLabel,placeholder:t.searchPlaceholder},model:{value:t.search,callback:function(e){t.search="string"===typeof e?e.trim():e},expression:"search"}})],1):t._e(),n("ul",{staticClass:"j-list",class:{striped:t.striped}},t._l(t.currentPageItems,(function(e,a){return n("li",{key:a,staticClass:"j-list__item",class:t.liClass,style:t.liStyle},[t._t("item",null,null,{i:a,item:e})],2)})),0),n("JPagination",{attrs:{items:t.searchedListItems,itemsPerPage:t.itemsPerPage,currentPage:t.currentPage,currentPageItems:t.currentPageItems},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:currentPageItems":function(e){t.currentPageItems=e},"update:current-page-items":function(e){t.currentPageItems=e}}})],1)},Ss=[],ks=(n("4de4"),n("45fc"),n("b64b"),n("4d63"),n("ac1f"),n("25f0"),n("841c"),{props:{withSearch:{type:Boolean,default:!0},sort:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},ascending:Boolean,items:{type:Array,default:function(){return[]}},searchLabel:String,searchPlaceholder:String,searchKeys:{type:Array,default:function(){return["text"]}},indexKey:{type:String,default:"text"},liClass:{type:[String,Object],default:""},liStyle:{type:[String,Object],default:""}},data:function(){return{search:"",itemsPerPage:10,currentPage:1,currentPageItems:[]}},watch:{searchedListItems:function(t){var e=this.itemsPerPage*(this.currentPage-1)+1;e>t.length&&(this.currentPage=Math.floor(e/this.itemsPerPage)||1)}},computed:{sortedListItems:function(){var t=this;if(!this.sort)return this.items;var e=this.indexAlphabetically(this.items),n=Object.keys(e).sort((function(e,n){return t.ascending?e>n?-1:1:e>n?1:-1}));return n.reduce((function(t,n){return[].concat(Object(ps["a"])(t),Object(ps["a"])(e[n]))}),[])},searchedListItems:function(){var t=this;if(this.search){var e=new RegExp("".concat(this.search),"i");return this.sortedListItems.filter((function(n){return t.searchKeys.some((function(t){return e.test(n[t])}))}))}return this.sortedListItems}},methods:{indexAlphabetically:function(t){var e=this;return t.reduce((function(t,n){var a=n[e.indexKey][0].toLowerCase();return t[a]||(t[a]=[]),t[a].push(n),t}),{})}}}),Os=ks,js=(n("ab32"),Object(k["a"])(Os,gs,Ss,!1,null,null,null)),xs=js.exports,ws=function(t,e){var n=e._c;return n("transition",{attrs:{name:"dropdown-fade"}},[e.props.value?n("j-card",{staticClass:"pa-1",class:e.staticClass,style:e.staticStyle,attrs:{outlined:""}},[n("j-card-actions",{staticClass:"pa-0"},[n("div",{staticClass:"d-flex justify-end align-start"},[n("j-btn",{staticClass:"square text outlined-hover ",staticStyle:{"align-self":"center"},on:{click:function(t){return e.listeners.input(!1)}}},[e._v("x")])],1)]),n("j-card-text",{staticClass:"pa-2"},[n("span",{class:"text-"+e.props.kind},[e._t("default",[e._v(e._s(e.props.message))])],2)])],1):e._e()],1)},Is=[],Cs={props:{value:Boolean,message:String,kind:{type:String,default:"danger"}}},Es=Cs,ys=Object(k["a"])(Es,ws,Is,!0,null,null,null),Ts=ys.exports,Ks=(n("0481"),n("4069"),{functional:!0,props:{flat:Boolean,outlined:Boolean},render:function(t,e){return t("article",Object(G["a"])({},e.data,{class:{"j-card":!0,flat:e.props.flat,outlined:e.props.outlined}}),e.children)}}),Ps=Ks,Ds=(n("1f6e"),Object(k["a"])(Ps,Ma,Ua,!1,null,null,null)),Fs=Ds.exports,Rs={functional:!0,render:function(t,e){return t("section",Object(G["a"])({},e.data,{class:"j-card-title"}),e.children)}},Ls=Rs,Ns=Object(k["a"])(Ls,Ja,qa,!1,null,null,null),As=Ns.exports,Gs={functional:!0,render:function(t,e){return t("section",Object(G["a"])({},e.data,{class:{"j-card-text":!0}}),e.children)}},Ms=Gs,Us=Object(k["a"])(Ms,$a,Ba,!1,null,null,null),Js=Us.exports,qs={functional:!0,render:function(t,e){return t("section",Object(G["a"])({},e.data,{class:{"j-card-actions":!0}}),e.children)}},$s=qs,Bs=Object(k["a"])($s,za,Qa,!1,null,null,null),zs=Bs.exports,Qs={install:function(t){t.component("JCard",Fs),t.component("JCardTitle",As),t.component("JCardText",Js),t.component("JCardActions",zs)}},Ws=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-center justify-between"},[n("div",[t.totalPages>1?n("div",[n("j-btn",{staticClass:"square text outlined-hover pagination-btn",attrs:{disabled:t.prevBtnDisabled,title:t.prevBtnDisabled?"":"Previous page"},on:{click:t.goPrevPage}},[n("span",{staticClass:"arrow left"})]),t._l(t.totalPages,(function(e){return n("j-btn",{key:e,staticClass:"square text outlined-hover pagination-btn",class:{active:e===t.currentPage},attrs:{title:"Page "+e},on:{click:function(n){return t.update("currentPage",e)}}},[t._v(" "+t._s(e)+" ")])})),n("j-btn",{staticClass:"square text outlined-hover pagination-btn",attrs:{disabled:t.nextBtnDisabled,title:t.nextBtnDisabled?"":"Next page"},on:{click:t.goNextPage}},[n("span",{staticClass:"arrow right"})])],2):t._e()]),n("small",[t._v(t._s(t.message))])])},Hs=[],Ys=(n("fb6a"),{props:{items:Array,itemsPerPage:Number,currentPage:Number,currentPageItems:Array},methods:{update:function(t,e){this.$emit("update:".concat(t),e)},goPrevPage:function(){this.currentPage-1>=1&&this.update("currentPage",this.currentPage-1)},goNextPage:function(){this.currentPage+1<=this.totalPages&&this.update("currentPage",this.currentPage+1)}},computed:{totalPages:function(){return Math.ceil(this.items.length/this.itemsPerPage)},prevBtnDisabled:function(){return this.currentPage-1<1},nextBtnDisabled:function(){return this.currentPage+1>this.totalPages},currentPageStart:function(){return this.itemsPerPage*(this.currentPage-1)},currentPageEnd:function(){return this.currentPageStart+this.itemsPerPage},message:function(){return 0===this.items.length?"No items":1===this.items.length?"1 of 1 items":1===this.currentPageItems.length?"Item ".concat(this.currentPageStart+1," of ").concat(this.items.length):"Items ".concat(this.currentPageStart+1,"-").concat(this.currentPageStart+this.currentPageItems.length," of ").concat(this.items.length)}},watch:{items:{immediate:!0,deep:!0,handler:function(t){var e=this.itemsPerPage*(this.currentPage-1)+1;e>t.length&&this.update("currentPage",Math.floor(e/this.itemsPerPage)||1),this.update("currentPageItems",t.slice(this.currentPageStart,this.currentPageEnd))}},currentPageStart:{handler:function(t){this.update("currentPageItems",this.items.slice(t,this.currentPageEnd))}}}}),Xs=Ys,Vs=(n("5b70"),Object(k["a"])(Xs,Ws,Hs,!1,null,null,null)),Zs=Vs.exports,to=function(t,e){var n=e._c;return n("div",{staticClass:"j-toolbar",class:[e.data.class,e.data.staticClass],style:[e.data.style,e.data.staticStyle]},[n("section",{staticClass:"j-toolbar__title"},[e._t("title",[e._v(e._s(e.props.title))])],2),n("section",{staticClass:"j-toolbar__actions"},[e._t("actions")],2)])},eo=[],no={props:{title:String}},ao=no,so=(n("c621"),Object(k["a"])(ao,to,eo,!0,null,null,null)),oo=so.exports,ro=(n("5319"),{access_token:"",refresh_token:""});function io(t){return function(e,n,a){return e.matched.some((function(t){return t.meta.requiresAuth}))?t.getters["session/GET_IS_LOGGED_IN"]()?a():(t.commit("session/SET_SESSION_LOGGED_OUT"),a({name:"login"})):a()}}function co(t){var e=JSON.parse(localStorage.getItem("auth"))||ro;t.commit("session/SET_SESSION",e)}function uo(t,e){t.subscribe((function(t){var e=t.type,n=t.payload;switch(e){case"session/SET_SESSION":localStorage.setItem("auth",JSON.stringify(n));break;case"session/SET_SESSION_LOGGED_OUT":localStorage.setItem("auth",JSON.stringify(ro)),location.replace("/login");break}}))}var lo={install:function(t,e){var n=e.store,a=e.router;co(n),uo(n,a);var s=io(n);a.beforeEach(s)}};v["a"].use(lo,{store:$e,router:Xa}),v["a"].use(Qs),v["a"].component("JDialog",as),v["a"].component("JInput",us),v["a"].component("JBtn",fs),v["a"].component("JSelect",vs),v["a"].component("JList",xs),v["a"].component("JAlert",Ts),v["a"].component("JPagination",Zs),v["a"].component("JToolbar",oo),v["a"].directive("focus",{inserted:function(t){t.focus()}}),v["a"].config.productionTip=!1,new v["a"]({router:Xa,store:$e,render:function(t){return t(x)}}).$mount("#app")},"5a41":function(t,e,n){},"5b70":function(t,e,n){"use strict";var a=n("37f9"),s=n.n(a);s.a},"5ce9":function(t,e,n){},"72b8":function(t,e,n){},"78e7":function(t,e,n){},9199:function(t,e,n){"use strict";var a=n("f080"),s=n.n(a);s.a},"93f1":function(t,e,n){"use strict";var a=n("eff9"),s=n.n(a);s.a},a23d:function(t,e,n){"use strict";var a=n("4fca"),s=n.n(a);s.a},a621:function(t,e,n){"use strict";var a=n("538c"),s=n.n(a);s.a},ab32:function(t,e,n){"use strict";var a=n("47bd"),s=n.n(a);s.a},b429:function(t,e,n){},bd47:function(t,e,n){"use strict";var a=n("3b1a"),s=n.n(a);s.a},bec0:function(t,e,n){"use strict";var a=n("1d82"),s=n.n(a);s.a},c4ff:function(t,e,n){},c621:function(t,e,n){"use strict";var a=n("78e7"),s=n.n(a);s.a},e479:function(t,e,n){"use strict";var a=n("b429"),s=n.n(a);s.a},eff9:function(t,e,n){},f080:function(t,e,n){}});
//# sourceMappingURL=app.0470420c.js.map